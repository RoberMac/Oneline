webpackJsonp([1],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(1),i=r(o),a=n(85),s=r(a),u=n(45),c=n(7);n(170),n(268),n(292);var l=n(247),f=r(l),d=n(9),p=r(d);s["default"].render(i["default"].createElement(u.Provider,{store:p["default"]},i["default"].createElement(c.Router,{history:c.browserHistory},f["default"])),document.querySelector(".root"))},45:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.Provider=void 0;var o=n(310),i=r(o),a=n(311),s=r(a);t.Provider=i["default"],t.connect=s["default"]},49:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=";base64,";if(-1===e.indexOf(t)){var n=e.split(","),r=n[0].split(":")[1],o=decodeURIComponent(n[1]);return new Blob([o],{type:r})}for(var i=e.split(t),a=i[0].split(":")[1],s=window.atob(i[1]),u=s.length,c=new Uint8Array(u),l=0;u>l;++l)c[l]=s.charCodeAt(l);return new Blob([c],{type:a})}Object.defineProperty(t,"__esModule",{value:!0}),t.initLivePreview=t.addImagePreview=t.uploadMedia=t.initStatus=t.draft=t.submitWrite=t.insertText=t.removeText=t.getCountInfo=t.isLeftPopup=t.extractMentions=void 0;var a=n(24),s=r(a),u=n(31),c=r(u),l=n(10),f=n(12),d=n(9),p=r(d),h=n(36),v=n(43),m={twitter:/(|\s)*@([\u4e00-\u9fa5\w-]*)$/,weibo:/(|\s)*@([\u4e00-\u9fa5\w-]*)$/},y=p["default"].getState().base.get("MENTIONS");p["default"].subscribe(function(){var e=p["default"].getState(),t=e.base,n=e.lastAction.type;n===v.UPDATE_BASE&&(y=t.get("MENTIONS"))});var b=(t.extractMentions=function(e){var t=e.status,n=e.provider,r=(0,f.isTwitter)(n),o=t.match(m[n]);return o?(o=o[2].trim().toLowerCase(),y[n].filter(r?function(e){return Object.keys(e).some(function(t){return e[t].toLowerCase().indexOf(o)>=0})}:function(e){return e.toLowerCase().indexOf(o)>=0}).slice(0,100)):[]},t.isLeftPopup=function(){var e=document.querySelector("textarea"),t=document.querySelector(".write__textarea span"),n=e.selectionStart,r=e.offsetWidth-10;t.innerHTML=e.value.substr(0,n).replace(/\n$/,"\n");var o=t.getClientRects(),i=o[o.length-1],a=i.width;return a>r/2},t.getCountInfo=function(e){var t=e.action,n=e.provider,r=e.status,o=void 0;if((0,f.isWeibo)(n)){var i=(r.match(/[\x00-\x7F]+/g)||[]).join("").length,a=r.length-i;o=a+Math.round(i/2)}else o=r.length;var s="quote"===t&&(0,f.isTwitter)(n)?116:140,u=o>s;return{count:o,isOverLimitCount:u}},t.removeText=function(e){var t=document.querySelector("textarea"),n=t.selectionStart,r=t.value.slice(0,n),o=t.value.slice(n);t.value=r.replace(e,"")+o,n-=1,t.setSelectionRange(n,n),1===t.value.length&&(t.value="")},t.insertText=function(e){var t=document.querySelector("textarea"),n=t.selectionStart,r=t.selectionEnd,o=n+e.length;n||"0"===n?t.value=t.value.substring(0,n)+e+t.value.substring(r,t.value.length):t.value+=e,t.setSelectionRange(o,o)},t.submitWrite=function(e){var t=e.action,n=e.provider,r=e.id,o=e.status,i=e.geo,a=e.media,u=e.sensitive,c=e.location.state,d=(0,f.isTwitter)(n),v=(0,f.isWeibo)(n),m={status:o};if(d){var y=a.length>0?a.map(function(e){return e.id}):void 0;(0,s["default"])(m,{geo:i,sensitive:u,media_ids:y}),"quote"===t&&(m.status=o+" https://twitter.com/"+c.user.screen_name+"/status/"+r)}else v&&"tweet"===t&&(0,s["default"])(m,{geo:i});return new Promise(function(e,o){l.Action.update({action:t,provider:n,id:r},{params:m}).then(function(n){"retweet"!==t&&"quote"!==t||p["default"].dispatch((0,h.updatePost)({id_str:r,retweeted:!0,retweet_count:c.retweet_count+1,retweeted_id_str:n.id_str})),e()})["catch"](function(e){return o(e)})})},t.draft={get:function(e){var t=e.action,n=e.provider;return c["default"].get(t+"_"+n)},set:function(e){var t=e.action,n=e.provider,r=e.status;"tweet"===t&&c["default"].set(t+"_"+n,r)},remove:function(e){var t=e.action,n=e.provider;return c["default"].remove(t+"_"+n)}}),g=(t.initStatus=function(e){var t=e.action,n=e.provider,r=e.location,o=r.state,i=document.querySelector("textarea");switch(t){case"tweet":i.value=b.get({action:t,provider:n})||"";break;case"reply":(0,f.isTwitter)(n)&&(i.value=["@"+o.user.screen_name].concat(o.text.match(/(|\s)*@([\w]+)/g)||[]).map(function(e){return e.trim()}).filter(function(e,t,n){return n.indexOf(e)===t}).join(" ")+" ");break;case"retweet":(0,f.isWeibo)(n)&&(o.retweet||o.quote)&&(i.value="//@"+o.user.screen_name+": "+o.text,i.setSelectionRange(0,0))}},t.uploadMedia=function(e){var t=e.provider,n=e.file;return new Promise(function(e,r){var o=new FormData;o.append("twitterMedia",n),l.Media.upload({provider:t},o).then(function(t){var n=t.media_id;e(n)})["catch"](function(e){r(e)})})},t.addImagePreview=function(e){var t=e.file;return new Promise(function(e){var n=new FileReader,r=new Image;n.onload=function(t){var n=URL.createObjectURL(i(t.target.result));r.src=n,r.onload=function(){var t=(r.height/r.width).toFixed(5);e({previewURL:n,ratio:t})}},n.readAsDataURL(t)})},function(e){var t=e.media;return t.map(function(e){var t=e.url,n=e.ratio;return{type:"photo",image_url:t,ratio:n}})});t.initLivePreview=function(e){var t=e.type,n=e.provider,r=e.status,i=e.media,a=e.livePreviewPost,u=e.post;if("reply"===t)return{};var c={},l=a.created_at,d=a.user;switch((0,s["default"])(c,{provider:n,type:t,created_at:l||Date.now(),text:r,user:d||p["default"].getState().base.get("PROFILE")[n],media:g({media:i})}),t){case"retweet":case"quote":(0,s["default"])(c,o({},t,(0,f.isWeibo)(n)&&u[t]||u))}return c}},75:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(3),s=r(a);t["default"]=function(e){var t=e.provider,n=e.link,r=e.iconName,o=e.title;return i["default"].createElement("div",{className:"banner color--"+t},n?i["default"].createElement("a",{href:n,target:"_blank"},i["default"].createElement("span",{className:"banner__title btn color--"+t+" tips--deep"},i["default"].createElement(s["default"],{name:r}),i["default"].createElement("span",null,o))):i["default"].createElement("span",{className:"banner__title color--"+t+" tips--deep--peace"},i["default"].createElement(s["default"],{name:r}),i["default"].createElement("span",null,o)))}},88:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=o.createClass({displayName:"Swipeable",propTypes:{onSwiped:o.PropTypes.func,onSwiping:o.PropTypes.func,onSwipingUp:o.PropTypes.func,onSwipingRight:o.PropTypes.func,onSwipingDown:o.PropTypes.func,onSwipingLeft:o.PropTypes.func,onSwipedUp:o.PropTypes.func,onSwipedRight:o.PropTypes.func,onSwipedDown:o.PropTypes.func,onSwipedLeft:o.PropTypes.func,flickThreshold:o.PropTypes.number,delta:o.PropTypes.number,preventDefaultTouchmoveEvent:o.PropTypes.bool},getInitialState:function(){return{x:null,y:null,swiping:!1,start:0}},getDefaultProps:function(){return{flickThreshold:.6,delta:10,preventDefaultTouchmoveEvent:!0}},calculatePos:function(e){var t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,r=this.state.x-t,o=this.state.y-n,i=Math.abs(r),a=Math.abs(o),s=Date.now()-this.state.start,u=Math.sqrt(i*i+a*a)/s;return{deltaX:r,deltaY:o,absX:i,absY:a,velocity:u}},touchStart:function(e){e.touches.length>1||this.setState({start:Date.now(),x:e.touches[0].clientX,y:e.touches[0].clientY,swiping:!1})},touchMove:function(e){if(this.state.x&&this.state.y&&!(e.touches.length>1)){var t=!1,n=this.calculatePos(e);n.absX<this.props.delta&&n.absY<this.props.delta||(this.props.onSwiping&&this.props.onSwiping(e,n.deltaX,n.deltaY,n.absX,n.absY,n.velocity),n.absX>n.absY?n.deltaX>0?this.props.onSwipingLeft&&(this.props.onSwipingLeft(e,n.absX),t=!0):this.props.onSwipingRight&&(this.props.onSwipingRight(e,n.absX),t=!0):n.deltaY>0?this.props.onSwipingUp&&(this.props.onSwipingUp(e,n.absY),t=!0):this.props.onSwipingDown&&(this.props.onSwipingDown(e,n.absY),t=!0),this.setState({swiping:!0}),t&&this.props.preventDefaultTouchmoveEvent&&e.preventDefault())}},touchEnd:function(e){if(this.state.swiping){var t=this.calculatePos(e),n=t.velocity>this.props.flickThreshold;this.props.onSwiped&&this.props.onSwiped(e,t.deltaX,t.deltaY,n),t.absX>t.absY?t.deltaX>0?this.props.onSwipedLeft&&this.props.onSwipedLeft(e,t.deltaX,n):this.props.onSwipedRight&&this.props.onSwipedRight(e,t.deltaX,n):t.deltaY>0?this.props.onSwipedUp&&this.props.onSwipedUp(e,t.deltaY,n):this.props.onSwipedDown&&this.props.onSwipedDown(e,t.deltaY,n)}this.setState(this.getInitialState())},render:function(){return o.createElement("div",r({},this.props,{onTouchStart:this.touchStart,onTouchMove:this.touchMove,onTouchEnd:this.touchEnd}),this.props.children)}});e.exports=i},114:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=n(6),d=r(f),p=n(13),h=n(3),v=r(h),m=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e)),r=p.selectSearchType[e.type][e.provider];return n.state={active:!("local"===e.type),typeList:r,currentType:r[0]},n.toggleType=n.toggleType.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleRightBtnClick=n.handleRightBtnClick.bind(n),n}return s(t,e),u(t,[{key:"componentDidUpdate",value:function(){this.props.searchText&&(this.refs.input.value=this.props.searchText)}},{key:"toggleType",value:function(){var e=this,t=this.state,n=t.typeList,r=t.currentType,o=this.refs.input,i=n.findIndex(function(e){return e.name===r.name}),a=n[n.length-1>i?i+1:0];o.focus(),this.setState({currentType:a},function(){return e.handleSubmit()})}},{key:"handleSubmit",value:function(e){e&&e.preventDefault();var t=this.state.currentType.name,n=this.refs.input.value.trim();this.props.onSearchChange({searchType:t,searchText:n})}},{key:"handleRightBtnClick",value:function(){var e=this.props.type,t=this.state.active,n=this.refs.input;switch(e){case"local":t?(n.blur(),n.value=""):n.focus(),this.setState({active:!t});break;case"remote":n.value="",n.focus()}this.props.onRightBtnClick()}},{key:"render",value:function(){var e,t=this.props.type,n=this.state,r=n.active,i=n.currentType,a=(0,d["default"])((e={"searchBar animate--faster":!0},o(e,"searchBar--"+t,!0),o(e,"searchBar--active",r),e)),s=(0,d["default"])({"searchBar__btn searchBar__btn--left":!0,"color--gray-drak":r,"color--white":!r}),u=(0,d["default"])({"searchBar__btn searchBar__btn--right":!0,"color--gray-drak":r,"color--white":!r});return l["default"].createElement("div",{className:a},l["default"].createElement("form",{className:"searchBar__form",onSubmit:this.handleSubmit},r&&l["default"].createElement("button",{className:s,type:"button",onClick:this.toggleType},l["default"].createElement(v["default"],{name:i.icon})),l["default"].createElement("input",{className:"searchBar__input animate--faster",type:"text",autoComplete:"off",spellCheck:"false",ref:"input"}),l["default"].createElement("button",{className:u,type:"button",onClick:this.handleRightBtnClick},l["default"].createElement(v["default"],{name:r?"cancel":"search"}))))}}]),t}(l["default"].Component);t["default"]=m},126:function(e,t){function n(e,t,n){function r(t){var n=v,r=m;return v=m=void 0,S=t,b=e.apply(r,n)}function i(e){return S=e,g=setTimeout(l,t),O?r(e):b}function a(e){var n=e-E,r=e-S,o=t-n;return k?_(o,y-r):o}function c(e){var n=e-E,r=e-S;return!E||n>=t||0>n||k&&r>=y}function l(){var e=P();return c(e)?f(e):void(g=setTimeout(l,a(e)))}function f(e){return clearTimeout(g),g=void 0,T&&v?r(e):(v=m=void 0,b)}function d(){void 0!==g&&clearTimeout(g),E=S=0,v=m=g=void 0}function p(){return void 0===g?b:f(P())}function h(){var e=P(),n=c(e);if(v=arguments,m=this,E=e,n){if(void 0===g)return i(E);if(k)return clearTimeout(g),g=setTimeout(l,t),r(E)}return void 0===g&&(g=setTimeout(l,t)),b}var v,m,y,b,g,E=0,S=0,O=!1,k=!1,T=!0;if("function"!=typeof e)throw new TypeError(u);return t=s(t)||0,o(n)&&(O=!!n.leading,k="maxWait"in n,y=k?w(s(n.maxWait)||0,t):y,T="trailing"in n?!!n.trailing:T),h.cancel=d,h.flush=p,h}function r(e){var t=o(e)?g.call(e):"";return t==l||t==f}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==typeof e}function a(e){return"symbol"==typeof e||i(e)&&g.call(e)==d}function s(e){if("number"==typeof e)return e;if(a(e))return c;if(o(e)){var t=r(e.valueOf)?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(p,"");var n=v.test(e);return n||m.test(e)?y(e.slice(2),n?2:8):h.test(e)?c:+e}var u="Expected a function",c=NaN,l="[object Function]",f="[object GeneratorFunction]",d="[object Symbol]",p=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,m=/^0o[0-7]+$/i,y=parseInt,b=Object.prototype,g=b.toString,w=Math.max,_=Math.min,P=Date.now;e.exports=n},129:function(e,t,n){"use strict";t.__esModule=!0;var r=n(1);t["default"]=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},130:function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},171:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(6),s=r(a),u=n(12);t["default"]=function(e){var t=e.location.pathname,n=e.main,r=e.leftSidebar,o=e.rightSidebar,a=(0,u.isHomePage)(t),c=(0,s["default"])({"oneline oneline--enter animate--general":!0,"oneline--timeline":a}),l=(0,s["default"])({"sidebar sidebar--left center animate--faster":!0,"sidebar--timeline sidebar--timeline--left":a}),f=(0,s["default"])({"sidebar sidebar--right center animate--faster":!0,"sidebar--timeline sidebar--timeline--right":a});return i["default"].createElement("div",null,i["default"].createElement("div",{className:c},n),i["default"].createElement("div",{className:l},r),i["default"].createElement("div",{className:f},o))}},172:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(114),f=r(l),d=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={search:!1},n.toggleSearch=n.toggleSearch.bind(n),n.handleSearchChange=n.handleSearchChange.bind(n),n}return a(t,e),s(t,[{key:"toggleSearch",value:function(){var e=this.props.onChange,t=this.state.search;e(t?{actionType:"reset"}:{actionType:"init"}),this.setState({search:!t})}},{key:"handleSearchChange",value:function(e){var t=e.searchType,n=e.searchText;if(n){var r=this.props,o=r.onChange,i=r.allPosts,a=n?i.filter(function(e){var r=void 0;switch(t){case"text":r=e.text+(e.quote&&e.quote.text||"")+(e.retweet&&e.retweet.text||"");break;case"user":r=e.user.name+e.user.screen_name+(e.quote&&e.quote.user.name+e.quote.user.screen_name||"")+(e.retweet&&e.retweet.user.name+e.retweet.user.screen_name||"")}return r.toLowerCase().indexOf(n.toLowerCase())>=0}).slice(0,100):[];o({searchText:n,actionType:"update",newShowingPosts:a})}}},{key:"render",value:function(){return c["default"].createElement(f["default"],{type:"local",provider:"all",onSearchChange:this.handleSearchChange,onRightBtnClick:this.toggleSearch})}}]),t}(c["default"].Component);t["default"]=d},173:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(58),s=r(a),u=n(30),c=r(u),l=function(e){var t=e.showingPosts,n=e.highlight;return i["default"].createElement("div",null,t.sort(function(e,t){return e.created_at<t.created_at?1:-1}).map(function(e){return i["default"].createElement(c["default"],{key:e.id_str,post:e,highlight:n})}))};l.displayName="Timeline",t["default"]=(0,s["default"])(l)},174:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(88),f=r(l),d=n(45),p=n(7),h=n(50),v=n(36),m=n(175),y=r(m),b=n(35),g=r(b),w=n(42),_=r(w),P=n(241),E=r(P),S=n(172),O=r(S),k=n(173),T=r(k),C=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={dependenciesLoaded:!1,search:!1,searchText:""},n.loadPosts=n.loadPosts.bind(n),n.handleSearch=n.handleSearch.bind(n),n.handleSwipedLeft=n.handleSwipedLeft.bind(n),n.handleSwipedRight=n.handleSwipedRight.bind(n),n}return a(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.activeProviders,r=t.isInitLoad,o=t.resetState;(0,y["default"])(n).then(function(){return e.setState({dependenciesLoaded:!0})})["catch"](function(e){return!1}),o(),r&&this.loadPosts({postsType:"newPosts"}).then(function(){e.autoFetchIntervalId=setInterval(function(){e.loadPosts({postsType:"newPosts",isAutoFetch:!0})},18e4),window.addEventListener("blur",e.handleWindowBlur)})}},{key:"componentWillUnmount",value:function(){this.props.resetState(),document.title="ï½œ",clearInterval(this.autoFetchIntervalId),window.removeEventListener("blur",this.handleWindowBlur)}},{key:"loadPosts",value:function(e){var t=e.postsType,n=e.isAutoFetch,r=this.props,o=r.fetchPosts,i=r.replaceTokenList;return o({postsType:t,isAutoFetch:n})["catch"](function(e){throw 401===e.res.status&&(i([]),p.browserHistory.push("/settings")),e})}},{key:"handleSearch",value:function(e){var t=e.searchText,n=e.actionType,r=e.newShowingPosts,o=this.props,i=o.updateShowingPosts,a=o.showingPosts;switch(n){case"init":this.recordShowingPost=a,this.setState({search:!0});break;case"update":i(r),this.setState({searchText:t});break;case"reset":i(this.recordShowingPost),this.setState({search:!1,searchText:""})}}},{key:"handleSwipedLeft",value:function(){p.browserHistory.push("/home/menu")}},{key:"handleSwipedRight",value:function(){p.browserHistory.push("/settings")}},{key:"handleWindowBlur",value:function(){var e=document.getElementsByTagName("video");[].forEach.call(e,function(e){e.pause()})}},{key:"_renderTimeline",value:function(){var e=this.props,t=e.showingPosts,n=e.allPosts,r=e.isInitLoad,o=this.state,i=o.dependenciesLoaded,a=o.searchText;return i&&t&&!r&&c["default"].createElement("div",null,c["default"].createElement(O["default"],{onChange:this.handleSearch,allPosts:n.get("posts")}),c["default"].createElement(T["default"],{showingPosts:t,highlight:a}))}},{key:"_renderNewSpin",value:function(){var e=this,t=this.props,n=t.newPosts,r=t.isInitLoad,o=this.state,i=o.dependenciesLoaded,a=o.search;return!a&&c["default"].createElement(g["default"],{type:"newPosts",initLoad:r||!i,isFetching:n.get("isFetching"),isFetchFail:n.get("isFetchFail"),unreadCount:n.get("unreadCount"),onClick:function(){return e.loadPosts({postsType:"newPosts"})}})}},{key:"_renderOldSpin",value:function(){var e=this,t=this.props,n=t.oldPosts,r=t.isInitLoad,o=this.state,i=o.dependenciesLoaded,a=o.search;return(r||!a)&&c["default"].createElement(g["default"],{type:"oldPosts",initLoad:r||!i,isFetching:n.get("isFetching"),isFetchFail:n.get("isFetchFail"),unreadCount:n.get("unreadCount"),onClick:function(){return e.loadPosts({postsType:"oldPosts"})}})}},{key:"render",value:function(){return c["default"].createElement(f["default"],{onSwipedLeft:this.handleSwipedLeft,onSwipedRight:this.handleSwipedRight},c["default"].createElement(E["default"],{target:".scrollTo--target",container:".oneline__wrapper",duration:700}),c["default"].createElement("div",{className:"oneline__wrapper overflow--y"},c["default"].createElement("span",{className:"scrollTo--target"}),this._renderNewSpin(),this._renderTimeline(),this._renderOldSpin()),c["default"].createElement(_["default"],null,this.props.children))}}]),t}(c["default"].Component);t["default"]=(0,d.connect)(function(e){return{activeProviders:e.auth.get("activeProviders"),newPosts:e.timeline.get("newPosts"),oldPosts:e.timeline.get("oldPosts"),isInitLoad:e.timeline.get("isInitLoad"),showingPosts:e.timeline.get("showingPosts"),allPosts:e.timeline.get("allPosts")}},{resetState:v.resetState,fetchPosts:v.fetchPosts,updateShowingPosts:v.updateShowingPosts,replaceTokenList:h.replaceTokenList})(C)},175:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),i=r(o),a=n(10),s=n(9),u=r(s),c=n(43),l=u["default"].getState().base.get("EMOTIONS"),f=function(e){var t={};e.forEach(function(e){t[e]=i["default"].get("profile_"+e)}),u["default"].dispatch((0,c.updateBase)({PROFILE:t}))},d=function(){var e=l.weibo;return new Promise(function(t,n){e&&"2.0"===e._v?t():(0,a._fetch)({method:"GET",url:"/public/dist/emotions_v2.min.json"}).then(function(e){return"[object Object]"!==Object.prototype.toString.call(e)?void n("`weiboEmotions` is not a Object"):"2.0"!==e._v?void n("`weiboEmotions` is not v2.0"):(u["default"].dispatch((0,c.updateBase)({EMOTIONS:{weibo:e}})),window.localStorage.setItem("weiboEmotions",JSON.stringify(e)),void t())})["catch"](function(e){return n(e)})})};t["default"]=function(e){return new Promise(function(t){f(e),~e.indexOf("weibo")?d().then(function(){return t()}):t()})}},176:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(110),s=r(a),u=n(177),c=r(u),l=n(111),f=r(l);t["default"]=function(e){var t=e.provider,n=e.post,r=e.likedList,o=e.replyList,a=e.retweetedList,u=void 0;switch(t){case"twitter":u=i["default"].createElement("div",{className:"detail__container provider--"+t},i["default"].createElement(s["default"],null,i["default"].createElement(f["default"],{name:"retweet",text:{type:"count",content:n.retweet_count},active:n.retweeted}),i["default"].createElement(f["default"],{name:"like",text:{type:"count",content:n.like_count},active:n.liked}),i["default"].createElement(f["default"],{name:"calendar",text:{type:"date",content:n.created_at}})),i["default"].createElement(s["default"],{type:"retweet",provider:t,list:a}));break;case"instagram":u=i["default"].createElement("div",{className:"detail__container provider--"+t},i["default"].createElement(s["default"],null,i["default"].createElement(f["default"],{name:"like",text:{type:"count",content:n.like_count},active:n.liked}),i["default"].createElement(f["default"],{name:"reply",text:{type:"count",content:n.reply_count}}),i["default"].createElement(f["default"],{name:"calendar",text:{type:"date",content:n.created_at}})),i["default"].createElement(s["default"],{type:"like",provider:t,list:r}),i["default"].createElement(c["default"],{provider:t,list:o}));break;case"weibo":u=i["default"].createElement("div",{className:"detail__container provider--"+t},i["default"].createElement(s["default"],null,i["default"].createElement(f["default"],{name:"like",text:{type:"count",content:n.like_count},active:n.liked}),i["default"].createElement(f["default"],{name:"retweet",text:{type:"count",content:n.retweet_count},active:n.retweeted}),i["default"].createElement(f["default"],{name:"reply",text:{type:"count",content:n.reply_count}}),i["default"].createElement(f["default"],{name:"calendar",text:{type:"date",content:n.created_at}})),i["default"].createElement(c["default"],{provider:t,list:o}))}return u}},177:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(60),s=r(a),u=n(21),c=r(u),l=n(29),f=r(l);t["default"]=function(e){var t=e.provider,n=e.list;return i["default"].createElement("ul",null,n.map(function(e,n){return i["default"].createElement("li",{key:n,className:"detail__row center "+(0===n?"detail__row--reply":"")},i["default"].createElement(s["default"],{provider:t,screen_name:e.screen_name},i["default"].createElement("span",{className:"detail__row__avatar detail__avatar"},i["default"].createElement("img",{src:e.avatar,alt:(e.name||e.screen_name)+"'s avatar"}))),i["default"].createElement("div",{className:"detail__row__content"},i["default"].createElement(c["default"],{className:"detail__row__text",provider:t,text:e.text}),i["default"].createElement(f["default"],{className:"detail__row__time",date:e.created_at})))}))}},178:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=n(24),d=r(f),p=n(10),h=n(35),v=r(h),m=n(30),y=r(m),b=n(176),g=r(b),w=function(e){function t(e){o(this,t);var n=e.location.state,r=n&&n.likedList?n:null,a=i(this,Object.getPrototypeOf(t).call(this,e));return a.state=r||{post:n,likedList:[],replyList:[],retweetedList:[],isFetching:!1,isFetchFail:!1,isInitLoad:!0},a.handleSpinClick=a.handleSpinClick.bind(a),a}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.state.isInitLoad&&this.loadDetail()}},{key:"loadDetail",value:function(){var e=this,t=this.props,n=t.action,r=t.provider,o=t.id,i=t.location,a=this.state.isFetching;a||(this.setState({isFetching:!0,isFetchFail:!1}),p.Action.get({action:n,provider:r,id:o}).then(function(t){var n=t.post||i.state,r=t.like||[],o=t.reply||[],a=t.retweet||[],s={post:n,likedList:r,replyList:o,retweetedList:a,isFetching:!1,isFetchFail:!1,isInitLoad:!1};e.setState(s);var u=e.props.history;u.replace({pathname:i.pathname,search:i.search,state:s})})["catch"](function(){e.setState({isFetching:!1,isFetchFail:!0})}))}},{key:"handleSpinClick",value:function(e){this.loadDetail(),e.stopPropagation()}},{key:"render",value:function(){var e=this.props.provider,t=this.state,n=t.post,r=t.isInitLoad,o=t.isFetching,i=t.isFetchFail,a=void 0;return r||(a=(0,d["default"])(n,{detail:!0}),a.quote&&(a.quote.detail=!0)),r?l["default"].createElement(v["default"],{type:"oldPosts",provider:e,initLoad:r,isFetching:o,isFetchFail:i,onClick:this.handleSpinClick}):l["default"].createElement("div",{className:"detail overflow--y animate--enter",onClick:function(e){return e.stopPropagation()}},l["default"].createElement(y["default"],{className:"detail__post",post:a}),l["default"].createElement(g["default"],s({provider:e},this.state)))}}]),t}(l["default"].Component);t["default"]=w},179:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(30),s=r(a),u=n(75),c=r(u),l=n(13);t["default"]=function(e){var t=e.provider,n=e.id,r=e.showingPosts,o=e.location.query,a=o.name,u=o.place_id;return i["default"].createElement("div",null,i["default"].createElement(c["default"],{provider:t,iconName:"location",link:l.selectLocationLink[t]({id:n,place_id:u}),title:a||""}),r.map(function(e){return i["default"].createElement(s["default"],{className:"popupPost",key:e.id_str,post:e})}))}},180:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(30),s=r(a),u=n(75),c=r(u),l=n(13);t["default"]=function(e){var t=e.provider,n=e.id,r=e.showingPosts;return i["default"].createElement("div",null,i["default"].createElement(c["default"],{provider:t,iconName:"tags",link:l.selectTagLink[t]({tagName:n}),title:n}),r.map(function(e){return i["default"].createElement(s["default"],{className:"popupPost",key:e.id_str,post:e})}))}},181:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(21),s=r(a);t["default"]=function(e){var t=e.provider,n=e.bio;return n?i["default"].createElement(s["default"],{provider:t,className:"profile__biography",text:n}):i["default"].createElement("span",null)}},182:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(12),s=n(3),u=r(s);t["default"]=function(e){var t=e.provider,n=e.counts,r="profile__count__item column__item color--"+t;return n&&!(0,a.isUnsplash)(t)?i["default"].createElement("div",{className:"profile__count column"},i["default"].createElement("span",{className:r},i["default"].createElement(u["default"],{name:(0,a.isInstagram)(t)?"post":"tweet"}),i["default"].createElement("span",null,n.statuses)),i["default"].createElement("span",{className:r},i["default"].createElement(u["default"],{name:"followed_by"}),i["default"].createElement("span",null,n.followed_by)),i["default"].createElement("span",{
className:r},i["default"].createElement(u["default"],{name:"follows"}),i["default"].createElement("span",null,n.follows))):i["default"].createElement("span",null)}},183:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(6),f=r(l),d=n(10),p=n(17),h=n(12),v=n(3),m=r(v),y=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={inprocess:!1,following:e.following},n.handleClick=n.handleClick.bind(n),n}return a(t,e),s(t,[{key:"handleClick",value:function(){var e=this,t=this.state,n=t.inprocess,r=t.following,o=this.props,i=o.uid,a=o.provider;n||(this.setState({inprocess:!0}),d.Action[r?"destroy":"create"]({provider:a,action:"follow",id:i}).then(function(){e.setState({inprocess:!1,following:!r})})["catch"](function(){(0,p.addClassTemporarily)(e.refs.btn,"tips--error",500),e.setState({inprocess:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.inprocess,n=e.following,r=(0,f["default"])({"profile__following tips--deep":!0,"color--twitter tips--active":n,"tips--inprocess":t});return c["default"].createElement("button",{className:r,type:"button",onClick:this.handleClick,ref:"btn"},c["default"].createElement(m["default"],{name:"following"}))}}]),t}(c["default"].Component);t["default"]=function(e){return(0,h.isTwitter)(e.provider)?c["default"].createElement(y,e):c["default"].createElement("span",null)}},184:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(3),s=r(a);t["default"]=function(e){var t=e.location;return t?i["default"].createElement("span",{className:"post__location"},i["default"].createElement(s["default"],{className:"post-action__icon",name:"location"}),i["default"].createElement("span",{className:"post__location__name"},t)):i["default"].createElement("span",null)}},185:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(3),s=r(a);t["default"]=function(e){var t=e.website;return t?i["default"].createElement("div",{className:"profile__website"},i["default"].createElement("a",{href:t,target:"_blank"},i["default"].createElement(s["default"],{name:"link",className:"tips animate--faster"}))):i["default"].createElement("span",null)}},186:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),a=r(i),s=n(23),u=n(182),c=r(u),l=n(181),f=r(l),d=n(185),p=r(d),h=n(183),v=r(h),m=n(184),y=r(m);t["default"]=function(e){var t=e.provider,n=e.user;return a["default"].createElement("div",{className:"profile--"+t+" provider--"+t},a["default"].createElement(s.Avatar,o({provider:t},n)),a["default"].createElement(c["default"],{provider:t,counts:n.counts}),a["default"].createElement(f["default"],{provider:t,bio:n.bio}),a["default"].createElement(p["default"],{website:n.website}),a["default"].createElement(v["default"],{provider:t,following:n.following,uid:n.uid}),a["default"].createElement(y["default"],{location:n.location}))}},187:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(24),s=r(a),u=n(30),c=r(u),l=n(186),f=r(l);t["default"]=function(e){var t=e.provider,n=e.showingPosts,r=e.user;return i["default"].createElement("div",null,i["default"].createElement(f["default"],{provider:t,user:r}),n.map(function(e){var t="retweet"===e.type,n=t?e:(0,s["default"])(e,{avatarless:!0});return i["default"].createElement(c["default"],{className:"userPost "+(t?"userPost--gutter":""),key:e.id_str,post:n})}))}},188:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=n(53),d=n(12),p=n(13),h=n(10),v=n(58),m=r(v),y=n(35),b=r(y),g=n(3),w=r(g),_=n(187),P=r(_),E=n(180),S=r(E),O=n(179),k=r(O),T=function(e){var t=e.provider,n=e.action,r=e.id,o=void 0;switch(t){case"twitter":switch(n){case"user":o=r;break;case"locations":o=window.encodeURIComponent("place:"+r);break;case"tags":o=window.encodeURIComponent("#"+r)}break;case"instagram":case"weibo":case"unsplash":o=r}return o},C=function(e){var t=e.showingPosts,n=e.user,r=e.isFetching,o=e.isFetchFail,i=e.isInitLoad,a=e.isLocked,s=e.minId,u=e.minDate;return(0,f.Map)({showingPosts:(0,f.List)(t||[]),user:n||{},isFetching:(0,d.isBoolean)(r)?r:!1,isFetchFail:(0,d.isBoolean)(o)?o:!1,isInitLoad:(0,d.isBoolean)(i)?i:!0,isLocked:(0,d.isBoolean)(a)?a:!1,minId:s||"",minDate:u||0})},j=function(e){var t=e.provider;return l["default"].createElement("span",{className:"color--"+t,style:{position:"absolute",top:"calc(50% - 25px)",left:"calc(50% - 25px)",height:50,width:50,display:"inline-block",cursor:"default"}},l["default"].createElement(w["default"],{name:"locked"}))},x=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={readState:C(e.location.state||{})},n.fetchPosts=n.fetchPosts.bind(n),n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.state.readState.get("isInitLoad")&&this.fetchPosts()}},{key:"fetchPosts",value:function(){var e=this,t=this.props,n=t.provider,r=t.action,o=t.id,i=t.history,a=t.location,s=this.state.readState,u=s.get("minId"),c=s.get("minDate"),l=p.selectNextPageId[n]({minId:u,minDate:c,action:r,postsSize:s.get("showingPosts").size});s.get("isFetching")||(this.setState(function(e){var t=e.readState;return{readState:t.set("isFetching",!0).set("isFetchFail",!1)}}),h.Action.get({provider:n,action:r,id:T({provider:n,action:r,id:o})},u?{maxId:l}:void 0).then(function(t){var n=t.user,r=t.data.sort(function(e,t){return e.created_at<t.created_at?1:-1}),o=r[r.length-1]&&r[r.length-1],u=s.withMutations(function(e){e.update("showingPosts",function(e){return e.concat(r)}).set("isFetching",!1).set("isInitLoad",!1).set("minId",o&&o.id_str).set("minDate",o&&o.created_at),n&&e.set("user",n)});e.setState(function(){return{readState:u}}),i.replace({pathname:a.pathname,search:a.search,state:u.toJS()})})["catch"](function(){e.setState(function(e){var t=e.readState;return{readState:t.withMutations(function(e){e.set("isFetching",!1).set("isFetchFail",!0).set("isLocked",!0)})}})}))}},{key:"render",value:function(){var e=this.props,t=e.provider,n=e.action,r=this.state.readState,o=r.get("showingPosts"),i=r.get("user"),a=r.get("isFetching"),u=r.get("isFetchFail"),c=r.get("isInitLoad"),f=r.get("isLocked"),d=void 0;switch(n){case"user":d=P["default"];break;case"locations":d=k["default"];break;case"tags":d=S["default"]}return l["default"].createElement("div",{onClick:function(e){return e.stopPropagation()}},!c&&l["default"].createElement("div",{className:"read animate--enter"},l["default"].createElement(d,s({showingPosts:o,user:i},this.props))),f&&c?l["default"].createElement(j,{provider:t}):c||o.size>=7?l["default"].createElement(b["default"],{type:"oldPosts",provider:t,initLoad:c,isFetching:a,isFetchFail:u,onClick:this.fetchPosts}):null)}}]),t}(l["default"].Component);x.displayName="Read",t["default"]=(0,m["default"])(x)},189:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(7),f=n(31),d=r(f),p=n(10),h=n(12),v=n(35),m=r(v),y={twitter:{text:{action:"trends",id:function(){return 1},initState:function(){return d["default"].get("trends_twitter")||{}},storeState:function(e){return d["default"].set("trends_twitter",e)},isFresh:function(e){return e.created_at&&Date.now()-e.created_at<18e5},renderItem:function(e){var t=e.name,n=e.onClick;return c["default"].createElement("span",{onClick:function(){return n({searchText:t})}},t)}}},instagram:{tags:{action:"pediction_tags",initState:function(){return{}},id:function(e){return e},renderItem:function(e){var t=e.name;return c["default"].createElement(l.Link,{to:"/home/instagram/tags/"+t},"#",t)}},users:{action:"pediction_users",initState:function(){return{}},id:function(e){return e},renderItem:function(e){var t=e.name;return c["default"].createElement(l.Link,{to:"/home/instagram/user/"+t},"@",t)}}}},b=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={pedictions:y[e.provider][e.searchType].initState(),isFetching:!1,isFetchFail:!1},n.fetchPedictions=n.fetchPedictions.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){(0,h.isTwitter)(this.props.provider)&&this.fetchPedictions()}},{key:"componentDidUpdate",value:function(e){var t=e.searchType,n=e.searchText,r=this.props,o=r.searchType,i=r.searchText;t===o&&n===i||this.fetchPedictions()}},{key:"fetchPedictions",value:function(){var e=this,t=this.props,n=t.provider,r=t.searchType,o=t.searchText,i=this.state,a=i.pedictions,s=i.isFetching,u=(0,h.isTwitter)(n),c=y[n][r];if(!(s||u&&c.isFresh(a))){if(!o&&!u)return void this.setState({pedictions:{},isFetching:!1,isFetchFail:!1});this.setState({pedictions:{},isFetching:!0,isFetchFail:!1}),p.Action.get({provider:n,action:c.action,id:c.id(o)}).then(function(t){e.setState({pedictions:t,isFetching:!1,isFetchFail:!1}),u&&c.storeState(t)})["catch"](function(){e.setState({isFetching:!1,isFetchFail:!0})})}}},{key:"render",value:function(){var e=this.props,t=e.provider,n=e.searchType,r=e.onPedictionClick,o=this.state,i=o.pedictions,a=o.isFetching,s=o.isFetchFail,u=y[t][n].renderItem;return c["default"].createElement("ul",{className:"search__pedictions color--"+t+" overflow--y"},i.data&&i.data.sort(function(e,t){return e.volume<t.volume?1:-1}).map(function(e){var t=e.name,n=e.volume;return c["default"].createElement("li",{className:"search__pedictions__item tips",key:t+n},c["default"].createElement(u,{name:t,onClick:r}))}),(a||s)&&c["default"].createElement(m["default"],{type:"oldPosts",provider:t,initLoad:!0,isFetching:a,isFetchFail:s}))}}]),t}(c["default"].Component);t["default"]=b},190:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(53),f=n(13),d=n(10),p=n(58),h=r(p),v=n(35),m=r(v),y=n(30),b=r(y),g=(0,l.fromJS)({showingPosts:[],isFetching:!1,isFetchFail:!1,isInitLoad:!0,minId:""}),w=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={postsState:g},n.fetchPosts=n.fetchPosts.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"componentDidUpdate",value:function(e){var t=this,n=e.searchText,r=this.props.searchText;n!==r&&this.setState(function(){return{postsState:g}},function(){return t.fetchPosts()})}},{key:"fetchPosts",value:function(){var e=this,t=this.props,n=t.provider,r=t.searchText,o=this.state.postsState,i=o.get("minId"),a=f.selectNextPageId[n]({minId:i,postsSize:o.get("showingPosts").size,action:"search"});!o.get("isFetching")&&r&&(this.setState(function(e){var t=e.postsState;return{postsState:t.set("isFetching",!0).set("isFetchFail",!1)}}),d.Action.get({provider:n,action:"search",id:window.encodeURIComponent(""+r)},i?{maxId:a}:void 0).then(function(t){var n=t.data.sort(function(e,t){return e.created_at<t.created_at?1:-1}),r=n[n.length-1]&&n[n.length-1];e.setState(function(e){var t=e.postsState;return{postsState:t.withMutations(function(e){e.update("showingPosts",function(e){return e.concat(n)}).set("isFetching",!1).set("isInitLoad",!1).set("minId",r&&r.id_str)})}})})["catch"](function(){e.setState(function(e){var t=e.postsState;return{postsState:t.set("isFetching",!1).set("isFetchFail",!0)}})}))}},{key:"render",value:function(){var e=this.props,t=e.provider,n=e.searchText,r=this.state.postsState,o=r.get("showingPosts"),i=r.get("isFetching"),a=r.get("isFetchFail"),s=r.get("isInitLoad");return c["default"].createElement("div",null,o.map(function(e){return c["default"].createElement(b["default"],{className:"popupPost",key:e.id_str,post:e,highlight:n})}),(i||o.size>=7)&&c["default"].createElement(m["default"],{type:"oldPosts",provider:t,initLoad:s,isFetching:i,isFetchFail:a,onClick:this.fetchPosts}))}}]),t}(c["default"].Component);w.displayName="SearchPost",t["default"]=(0,h["default"])(w)},191:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=n(13),d=n(12),p=n(75),h=r(p),v=n(114),m=r(v),y=n(189),b=r(y),g=n(190),w=r(g),_=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={searchType:f.selectSearchType.remote[e.provider][0].name,searchText:""},n.handleSearchChange=n.handleSearchChange.bind(n),n}return a(t,e),u(t,[{key:"handleSearchChange",value:function(e){var t=e.searchType,n=e.searchText;this.setState({searchType:t||this.state.searchType,searchText:n})}},{key:"render",value:function(){var e=this,t=this.props.provider,n=this.state.searchText;return l["default"].createElement("div",{className:"search",onClick:function(e){return e.stopPropagation()}},l["default"].createElement(h["default"],{provider:t,iconName:"search",link:n&&f.selectSearchLink[t]({searchText:n}),title:n}),l["default"].createElement(m["default"],{type:"remote",provider:t,searchText:n,onSearchChange:this.handleSearchChange,onRightBtnClick:function(){return e.handleSearchChange({searchText:""})}}),(0,d.isTwitter)(t)&&n||(0,d.isUnsplash)(t)?l["default"].createElement(w["default"],s({},this.state,this.props)):l["default"].createElement(b["default"],s({onPedictionClick:this.handleSearchChange},this.state,this.props)))}}]),t}(l["default"].Component);t["default"]=_},192:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(78),f=r(l),d=n(259),p=r(d),h=n(17),v=n(3),m=r(v),y=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.clipboard=new p["default"](this.refs.btn),this.clipboard.on("success",function(){(0,h.addClassTemporarily)(e.refs.btn,"tips--active",500),document.querySelector("textarea").value=""}),this.clipboard.on("error",function(t){var n=e.refs.btn,r=new f["default"](n);r.contains("tips--active")?(r.remove("tips--active"),t.clearSelection()):r.toggle("tips--active")})}},{key:"componentWillUnmount",value:function(){this.clipboard.destroy()}},{key:"render",value:function(){return c["default"].createElement("button",{className:"share__btn tips--deep--peace",type:"button","data-clipboard-target":".share__text",ref:"btn"},c["default"].createElement(m["default"],{className:"animate--faster",name:"clipboard"}))}}]),t}(u.Component);t["default"]=y},193:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(10),f=n(9),d=r(f),p=n(3),h=r(p),v=n(35),m=r(v),y=n(192),b=r(y),g=function(e){function t(e){o(this,t);var n=e.location.state,r=n&&n.sharedLink?n:null,a=i(this,Object.getPrototypeOf(t).call(this,e));return a.state=r||{post:{},sharedLink:"",sharedText:"",isFetching:!1,isFetchFail:!1,isInitLoad:!0},a.toggleSharedText=a.toggleSharedText.bind(a),a.handleSpinClick=a.handleSpinClick.bind(a),a}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.state.isInitLoad&&this.fetchSharedLink()}},{key:"fetchSharedLink",value:function(){var e=this,t=this.props,n=t.provider,r=t.id,o=t.location,i=o.state,a=this.state.isFetching;a||(this.setState({isFetching:!0,isFetchFail:!1}),l.Share.post({provider:n,id:r},{post:i,sharer:d["default"].getState().base.get("PROFILE")[n]}).then(function(){var t={post:i,sharedLink:window.location.origin+"/share/"+n+"/"+r,sharedText:"",isFetching:!1,isFetchFail:!1,isInitLoad:!1};e.setState(t);var a=e.props.history;a.replace({pathname:o.pathname,search:o.search,state:t})})["catch"](function(){e.setState({isFetching:!1,isFetchFail:!0})}))}},{key:"toggleSharedText",value:function(){var e=this.state,t=e.post,n=e.sharedText,r=t.user.screen_name,o=t.text||"",i=o.length>17?o.slice(0,17)+"â€¦":o;this.setState({sharedText:n?"":"ï½œ @"+r+": "+i})}},{key:"handleSpinClick",value:function(e){this.fetchSharedLink(),e.stopPropagation()}},{key:"render",value:function(){var e=this.props.provider,t=this.state,n=t.sharedLink,r=t.sharedText,o=t.isInitLoad,i=t.isFetching,a=t.isFetchFail;return o?c["default"].createElement(m["default"],{type:"oldPosts",provider:e,initLoad:o,isFetching:i,isFetchFail:a,onClick:this.handleSpinClick}):c["default"].createElement("div",{className:"share provider--"+e,onClick:function(e){return e.stopPropagation()}},c["default"].createElement("textarea",{className:"share__text",type:"text",value:r+" "+n,readOnly:!0}),c["default"].createElement("div",{className:"share__toolBar center"},c["default"].createElement(b["default"],null),c["default"].createElement("button",{className:"share__btn "+(r?"":"tips--deep--peace"),type:"button",onClick:this.toggleSharedText},c["default"].createElement(h["default"],{name:"wand"}))))}}]),t}(c["default"].Component);t["default"]=g},194:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(6),f=r(l),d=n(17),p=n(3),h=r(p),v=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={inprocess:!1},n.handleClick=n.handleClick.bind(n),n}return a(t,e),s(t,[{key:"handleClick",value:function(){var e=this,t=this.state.inprocess,n=this.props,r=n.onChange,o=n.selected;t||(o?(this.setState({inprocess:!1}),r({geo:{}})):(this.setState({inprocess:!0}),window.navigator.geolocation.getCurrentPosition(function(t){e.setState({inprocess:!1});var n=t.coords,o=n.latitude,i=n.longitude;r({geo:{lat:o,"long":i}})},function(){e.setState({inprocess:!1}),(0,d.addClassTemporarily)(e.refs.btn,"tips--error",500)},{maximumAge:6e4,timeout:7e3})))}},{key:"render",value:function(){var e=this.props,t=e.action,n=e.selected,r=this.state.inprocess,o=r||"retweet"===t?{pointerEvents:"none",opacity:".1"}:null,i=(0,f["default"])({"write__toolBar__btn tips--deep--peace":!0,"tips--active--peace":n,"tips--inprocess":r});return c["default"].createElement("button",{className:i,style:o,type:"button",onClick:this.handleClick},c["default"].createElement(h["default"],{name:"geoPicker"}))}}]),t}(c["default"].Component);t["default"]=v},195:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.removeMedia=n.removeMedia.bind(n),n}return s(t,e),u(t,[{key:"removeMedia",value:function(e){var t=this.props,n=t.media,r=t.onChange;r({media:[].concat(o(n.slice(0,e)),o(n.slice(e+1)))})}},{key:"render",value:function(){var e=this,t=this.props.media;return l["default"].createElement("div",{className:"write__mediaPreview"},t.map(function(t,n){var r=t.url;return l["default"].createElement("span",{className:"write__mediaPreview__item animate--faster",key:r,onClick:function(){return e.removeMedia(n)}},l["default"].createElement("img",{src:r,alt:"uploaded image "+n}))}))}}]),t}(l["default"].Component);t["default"]=f},196:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(6),f=r(l),d=n(17),p=n(49),h=n(3),v=r(h),m=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={inprocess:!1},n.handleChange=n.handleChange.bind(n),n}return a(t,e),s(t,[{key:"handleChange",value:function(){var e=this,t=this.props,n=t.provider,r=t.media,o=t.onChange,i=this.refs.btn,a=i.files[0],s={};(0,p.addImagePreview)({file:a}).then(function(t){var n=t.previewURL,r=t.ratio;s.url=n,s.ratio=r,e.setState({inprocess:!0})}).then(function(){(0,p.uploadMedia)({provider:n,file:a}).then(function(t){s.id=t,o({media:r.concat([s])}),e.setState({inprocess:!1})})["catch"](function(){(0,d.addClassTemporarily)(e.refs.label,"tips--error",500),e.setState({inprocess:!1})})}),i.value=""}},{key:"render",value:function(){var e=this.props,t=e.media,n=e.action,r=this.state.inprocess,o=r||t.length>=4||"retweet"===n?{pointerEvents:"none",opacity:".1"}:null,i=(0,f["default"])({"write__toolBar__btn write__toolBar__btn--media tips--deep--peace":!0,"tips--inprocess":r});return c["default"].createElement("span",null,c["default"].createElement("label",{style:o,className:i,htmlFor:"uploadMedia",role:"button",ref:"label"},c["default"].createElement(v["default"],{name:"camera"})),c["default"].createElement("input",{style:{display:"none"},id:"uploadMedia",type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",onChange:this.handleChange,ref:"btn"}))}}]),t}(c["default"].Component);t["default"]=m},197:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(6),f=r(l),d=n(12),p=n(49),h=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.insertMention=n.insertMention.bind(n),n}return a(t,e),s(t,[{key:"insertMention",value:function(e){var t=this.props,n=t.provider,r=t.onChange,o={twitter:/@([\u4e00-\u9fa5\w-]*)$/,instagram:/@([\w\.]*)$/,weibo:/@([\u4e00-\u9fa5\w-]*)$/};(0,p.removeText)(o[n]),(0,p.insertText)(e.trim()+" "),r()}},{key:"render",value:function(){var e=this,t=this.props,n=t.mentions,r=t.provider,o=t.toolPopupLeft,i=(0,f["default"])({"write__mentions write__popup overflow--y animate--faster":!0,"write__popup--left":o,"write__popup--right":!o});return c["default"].createElement("div",{className:i},(0,d.isWeibo)(r)?n.map(function(t){return c["default"].createElement("button",{key:t,onClick:function(){return e.insertMention(t)},type:"button"},t)}):n.map(function(t){return c["default"].createElement("button",{key:t.s,onClick:function(){return e.insertMention(t.s)},type:"button"},t.u||t.s)}))}}]),t}(c["default"].Component);t["default"]=h},198:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,
e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=n(6),d=r(f),p=n(17),h=n(49),v=n(3),m=r(v),y=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(){(0,p.addClassTemporarily)(this.refs.btn,"write__toolBar__btn--send--typing",700)}},{key:"render",value:function(){var e,t=this.props,n=t.action,r=t.provider,i=t.status,a=t.submitting,s=t.onClick,u=(0,h.getCountInfo)({action:n,provider:r,status:i}),c=u.count,f=u.isOverLimitCount,p=(0,d["default"])((e={"write__toolBar__btn write__toolBar__btn--send tips":!0},o(e,"color--"+r,!0),o(e,"write__toolBar__btn--send--sending",a),e));return l["default"].createElement("button",{className:p,type:"button","data-count":0===c?"":c,disabled:f||0===c&&"retweet"!==n,onClick:s,ref:"btn"},l["default"].createElement(m["default"],{name:"writing"}))}}]),t}(l["default"].Component);t["default"]=y},199:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(6),f=r(l),d=n(3),p=r(d),h=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={selected:!1},n.handleClick=n.handleClick.bind(n),n}return a(t,e),s(t,[{key:"handleClick",value:function(){var e=this.state.selected,t=this.props.onChange;this.setState({selected:!e}),t({sensitive:!e})}},{key:"render",value:function(){var e=this.props.action,t=this.state.selected,n="retweet"===e?{pointerEvents:"none",opacity:".1"}:null,r=(0,f["default"])({"write__toolBar__btn tips--deep--peace":!0,"tips--active--peace":t});return c["default"].createElement("button",{className:r,style:n,type:"button",onClick:this.handleClick},c["default"].createElement(p["default"],{name:"sensitive"}))}}]),t}(c["default"].Component);t["default"]=h},200:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(6),f=r(l),d=n(3),p=r(d),h=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={selected:!1},n.handleClick=n.handleClick.bind(n),n}return a(t,e),s(t,[{key:"handleClick",value:function(){var e=this.state.selected,t=this.props.onChange;this.setState({selected:!e}),t({emotions:!e})}},{key:"render",value:function(){var e=this.state.selected,t=(0,f["default"])({"write__toolBar__btn tips--deep--peace":!0,"tips--active--peace":e});return c["default"].createElement("button",{className:t,type:"button",onClick:this.handleClick},c["default"].createElement(p["default"],{name:"emotions"}))}}]),t}(c["default"].Component);t["default"]=h},201:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(6),f=r(l),d=n(49),p=n(113),h=r(p),v=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.insertEmotions=n.insertEmotions.bind(n),n}return a(t,e),s(t,[{key:"insertEmotions",value:function(e){var t=this.props.onChange;(0,d.insertText)("["+e+"]"),t()}},{key:"render",value:function(){var e=this,t=this.props.toolPopupLeft,n="ç¬‘cry|å¾®ç¬‘|å˜»å˜»|å“ˆå“ˆ|å¯çˆ±|å¯æ€œ|æŒ–é¼»|åƒæƒŠ|å®³ç¾ž|æŒ¤çœ¼|é—­å˜´|é„™è§†|çˆ±ä½ |æ³ª|å·ç¬‘|äº²äº²|ç”Ÿç—…|å¤ªå¼€å¿ƒ|ç™½çœ¼|å³å“¼å“¼|å·¦å“¼å“¼|å˜˜|è¡°|å§”å±ˆ|å|å“ˆæ¬ |æŠ±æŠ±|æ€’|ç–‘é—®|é¦‹å˜´|æ‹œæ‹œ|æ€è€ƒ|æ±—|å›°|ç¡|é’±|å¤±æœ›|é…·|è‰²|å“¼|é¼“æŽŒ|æ™•|æ‚²ä¼¤|æŠ“ç‹‚|é»‘çº¿|é˜´é™©|æ€’éª‚|äº’ç²‰|å¿ƒ|ä¼¤å¿ƒ|çŒªå¤´|ç†ŠçŒ«|å…”å­|ok|è€¶|good|NO|èµž|æ¥|å¼±|è‰æ³¥é©¬|ç»™åŠ›|å›´è§‚|å¨æ­¦|å¥¥ç‰¹æ›¼|ç¤¼ç‰©|é’Ÿ|è¯ç­’|èœ¡çƒ›|è›‹ç³•|å¸¦ç€å¾®åšåŽ»æ—…è¡Œ|æœ€å³|æ³ªæµæ»¡é¢|æ±Ÿå—style|åŽ»æ—…è¡Œ|doge|å–µå–µ|å“†å•¦Aæ¢¦èŠ±å¿ƒ|å“†å•¦Aæ¢¦å®³æ€•|å“†å•¦Aæ¢¦åƒæƒŠ|é™é¦™å¾®ç¬‘|å¤§é›„å¾®ç¬‘|èƒ–è™Žå¾®ç¬‘|å°å¤«å¾®ç¬‘".split("|"),r=(0,f["default"])({"write__emotions write__popup overflow--y animate--faster":!0,"write__popup--left":t,"write__popup--right":!t});return c["default"].createElement("div",{className:r},n.map(function(t,n){return c["default"].createElement("button",{key:n,onClick:function(){return e.insertEmotions(t)},type:"button",dangerouslySetInnerHTML:{__html:h["default"].weiboEmotify("["+t+"]")}})}))}}]),t}(c["default"].Component);t["default"]=v},202:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=n(126),d=r(f),p=n(24),h=r(p),v=n(17),m=n(12),y=n(49),b=n(30),g=r(b),w=n(194),_=r(w),P=n(196),E=r(P),S=n(199),O=r(S),k=n(200),T=r(k),C=n(198),j=r(C),x=n(195),M=r(x),F=n(197),L=r(F),N=n(201),R=r(N),I=n(42),A=r(I),D=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={status:"",mentions:[],geo:{},media:[],sensitive:!1,emotions:!1,livePreviewPost:(0,y.initLivePreview)({type:e.action,provider:e.provider,status:"",media:[],post:e.location.state,livePreviewPost:{}}),toolPopupLeft:!1,submitting:!1},n.handleStateChange=n.handleStateChange.bind(n),n.handleTextChange=n.handleTextChange.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){(0,y.initStatus)(s({},e.props)),e.handleTextChange()},700)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.action,n=e.provider,r=this.state.status;r&&y.draft.set({action:t,provider:n,status:r})}},{key:"handleStateChange",value:function(e){if(Object.keys(e).indexOf("media")>=0){var t=this.props,n=t.action,r=t.provider,o=this.state,i=o.status,a=o.livePreviewPost;(0,h["default"])(e,{livePreviewPost:(0,y.initLivePreview)({type:n,provider:r,status:i,media:e.media,livePreviewPost:a,post:this.props.location.state})})}this.setState(e)}},{key:"handleTextChange",value:function(){var e=this.props,t=e.action,n=e.provider,r=e.id,o=this.refs.textarea,i=o.value,a=i.trim().length>0?i:i.trim(),s=t,u=this.state.geo,c=this.state.media;if("retweet"===t&&a||"quote"===t&&""===a){var l=this.props,f=l.history,d=l.location;s="retweet"===t?"quote":"retweet",u={},c=[],f.replace({pathname:"/home/"+n+"/"+s+"/"+r,search:d.search,state:d.state})}var p=(0,y.initLivePreview)({type:s,provider:n,status:a,media:c,livePreviewPost:this.state.livePreviewPost,post:this.props.location.state});this.setState({status:a,mentions:(0,y.extractMentions)({status:a.slice(0,o.selectionStart),provider:n}),geo:u,media:c,livePreviewPost:p,toolPopupLeft:(0,y.isLeftPopup)()}),o.focus()}},{key:"handleSubmit",value:function(){var e=this,t=this.props,n=t.action,r=t.provider,o=t.history;this.setState({submitting:!0}),(0,y.submitWrite)(s({},this.state,this.props)).then(function(){o.push("/home"),setTimeout(function(){y.draft.remove({action:n,provider:r})},700)})["catch"](function(){(0,v.addClassTemporarily)(e.refs.textarea,"write__textarea--err",500)})["finally"](function(){e.setState({submitting:!1})})}},{key:"render",value:function(){var e=this.props,t=e.action,n=e.provider,r=this.state,o=r.status,i=r.geo,a=r.media,s=r.mentions,u=r.emotions,c=r.livePreviewPost,f=r.toolPopupLeft,p=r.submitting,h=(0,m.isTwitter)(n),v=(0,m.isWeibo)(n);return l["default"].createElement("div",{className:"write"},"reply"!==t&&l["default"].createElement("div",{className:"write__livePreview animate--enter overflow--y",onClick:function(e){return e.stopPropagation()}},l["default"].createElement(g["default"],{post:c,style:{marginBottom:0}})),l["default"].createElement("form",{className:"write__form",onClick:function(e){return e.stopPropagation()}},l["default"].createElement("textarea",{className:"write__textarea animate--general",type:"text",autoComplete:"off",spellCheck:"false",required:"retweet"!==t,disabled:p,onChange:(0,d["default"])(this.handleTextChange,300),ref:"textarea"}),l["default"].createElement("div",{className:"write__textarea write__textarea--mirror"},l["default"].createElement("span",null)),l["default"].createElement("div",{className:"write__toolBar"},l["default"].createElement("div",{className:"write__toolBar--left"},h&&l["default"].createElement(O["default"],{action:t,onChange:this.handleStateChange}),l["default"].createElement(_["default"],{action:t,selected:Object.keys(i).length>0,onChange:this.handleStateChange}),h&&l["default"].createElement(E["default"],{provider:n,media:a,action:t,onChange:this.handleStateChange}),v&&l["default"].createElement(T["default"],{onChange:this.handleStateChange})),l["default"].createElement(j["default"],{action:t,provider:n,status:o,submitting:p,onClick:this.handleSubmit})),a.length>0&&l["default"].createElement(M["default"],{media:a,onChange:this.handleStateChange}),l["default"].createElement(A["default"],null,s.length>0&&l["default"].createElement(L["default"],{mentions:s,provider:n,toolPopupLeft:f,onChange:this.handleTextChange})),l["default"].createElement(A["default"],null,u&&v&&l["default"].createElement(R["default"],{toolPopupLeft:f,onChange:this.handleTextChange}))))}}]),t}(l["default"].Component);t["default"]=D},203:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),a=r(i),s=n(7),u=n(202),c=r(u),l=n(188),f=r(l),d=n(178),p=r(d),h=n(193),v=r(h),m=n(191),y=r(m);t.Action=function(e){var t=e.params.action,n=void 0;switch(t){case"user":case"locations":case"tags":n=f["default"];break;case"tweet":case"retweet":case"quote":case"reply":n=c["default"];break;case"detail":n=p["default"];break;case"share":n=v["default"];break;case"search":n=y["default"]}return a["default"].createElement(n,o({history:s.browserHistory,location:e.location},e.params))}},204:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o);t["default"]=function(e){var t=e.oColor,n=e.tColor,r=e.cColor,o=e.rColor;return i["default"].createElement("svg",{viewBox:"0 0 200 200"},i["default"].createElement("g",{"fill-rule":"evenodd"},i["default"].createElement("circle",{fill:t||"#F1F1F1",cx:"100",cy:"100",r:"100"}),i["default"].createElement("path",{fill:n||"#FFF",d:"M96.63 30.143c1.862-3.393 4.88-3.392 6.74 0l10.26 18.714c1.862 3.393.232 6.143-3.634 6.143H90.004c-3.868 0-5.495-2.75-3.635-6.143l10.26-18.714z"}),i["default"].createElement("circle",{fill:r||"#FFF",cx:"100",cy:"100",r:"15"}),i["default"].createElement("rect",{fill:o||"#FFF",x:"86",y:"145",width:"28",height:"28",rx:"7"})))}},205:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),s=n(6),u=r(s),c=n(7),l=n(13),f=n(3),d=r(f),p=n(204),h=r(p);t["default"]=function(e){var t=e.data;return a["default"].createElement("div",{className:"menu"},t.map(function(e){var t=e.link,n=e.provider,r=e.iconName,i=e.iconType,s=(0,u["default"])(o({"menu__btn btn tips animate--faster":!0},"color--"+n,n)),f=l.selectProviderColor[n],p="#000";return a["default"].createElement(c.Link,{to:t,key:t,onClick:function(e){return e.stopPropagation()}},a["default"].createElement("span",{className:s},"menu"===i?a["default"].createElement(h["default"],{oColor:f,tColor:"instagram"!==n&&"unsplash"!==n&&p,cColor:p,rColor:"weibo"!==n&&p}):a["default"].createElement(d["default"],{name:r})))}))}},206:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderMenu=t.HomeMenu=t.SettingsMenu=void 0;var o=n(1),i=r(o),a=n(45),s=n(12),u=n(205),c=r(u),l=function(e){var t=e.activeProviders,n=[];return t.length>0&&n.push({link:"/settings/replicant/deckard",iconName:"menu_deckard"}),n.push({link:"/settings/replicant/rachael",iconName:"menu_rachael"}),i["default"].createElement(c["default"],{data:n})},f=function(e){var t=e.activeProviders,n=t.map(function(e){return{provider:e,link:"/home/"+e,iconType:"menu"}});return i["default"].createElement(c["default"],{data:n})},d=function(e){var t=e.params,n=e.PROFILE,r=t.provider,o=n[r],a=o.uid,u=o.screen_name,l={provider:r,link:"/home/"+r+"/tweet",iconName:"menu_tweet"},f={provider:r,link:"/home/"+r+"/user/"+((0,s.isUnsplash)(r)?u:a),iconName:"menu_profile"},d={provider:r,link:"/home/"+r+"/search",iconName:"menu_search"},p=[];switch(r){case"twitter":p.push(l,f,d);break;case"weibo":p.push(l,f);break;case"instagram":case"unsplash":p.push(f,d)}return i["default"].createElement(c["default"],{data:p})};t.SettingsMenu=(0,a.connect)(function(e){return{activeProviders:e.auth.get("activeProviders")}})(l),t.HomeMenu=(0,a.connect)(function(e){return{activeProviders:e.auth.get("activeProviders")}})(f),t.ProviderMenu=(0,a.connect)(function(e){return{PROFILE:e.base.get("PROFILE")}})(d)},207:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(31),f=r(l),d=n(10),p=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.getCode=n.getCode.bind(n),n}return a(t,e),s(t,[{key:"componentWillMount",value:function(){this.intervals={fakeCode:0,countDown:0}}},{key:"componentDidMount",value:function(){this.getCode()}},{key:"componentWillUnmount",value:function(){var e=this;Object.keys(this.intervals).forEach(function(t){clearInterval(e.intervals[t])})}},{key:"getCode",value:function(){var e=this,t=this.props.activeProviders,n=this.refs.deckard;this.intervals.fakeCode=setInterval(function(){for(var e="";e.length<7;e+=Math.random().toString(36).substr(2));n.innerHTML=e.substr(0,7)},100);var r=[];t.forEach(function(e){var t=f["default"].get.profile+e;t&&r.push(t)}),d.Auth.deckard({profileList:r}).then(function(t){var r=60;setTimeout(function(){clearInterval(e.intervals.fakeCode),n.innerHTML=t.code},700),e.intervals.countDown=setInterval(function(){return 0>r?(e.getCode(),n.dataset.countdown="",void clearInterval(e.intervals.countDown)):void(n.dataset.countdown=r--)},1e3)})["catch"](function(){clearInterval(e.intervals.fakeCode),n.innerHTML="80af294",n.dataset.countdown="âŸ²"})}},{key:"render",value:function(){return c["default"].createElement("div",{className:"replicant center",onClick:function(e){return e.stopPropagation()}},c["default"].createElement("span",{className:"replicant--deckard","data-countdown":"",ref:"deckard"}))}}]),t}(c["default"].Component);t["default"]=p},208:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(7),f=n(31),d=r(f),p=n(10),h=n(17),v="replicant center",m=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.handleSubmit=n.handleSubmit.bind(n),n}return a(t,e),s(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.props.replaceTokenList,r=this.refs.rachael,o=r.value;r.blur(),p.Auth.rachael({code:o}).then(function(e){e.msg.length>0?e.msg.forEach(function(e){return alert(e)}):(n(e.tokenList),e.profileList.forEach(function(e){d["default"].set("profile_"+e.provider,e)})),l.browserHistory.push("/settings")})["catch"](function(){(0,h.addClassTemporarily)(t.refs.rachael,"replicant--rachael--errCode",500)})}},{key:"render",value:function(){return c["default"].createElement("div",{className:v,onClick:function(e){return e.stopPropagation()}},c["default"].createElement("form",{onSubmit:this.handleSubmit},c["default"].createElement("input",{className:"replicant--rachael",type:"text",placeholder:"80af294",maxLength:"7",required:!0,ref:"rachael"})))}}]),t}(c["default"].Component);t["default"]=m},209:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Rachael=t.Deckard=void 0;var o=n(45),i=n(50),a=n(207),s=r(a),u=n(208),c=r(u);t.Deckard=(0,o.connect)(function(e){return{activeProviders:e.auth.get("activeProviders")}})(s["default"]),t.Rachael=(0,o.connect)(function(e){return{activeProviders:e.auth.get("activeProviders")}},{replaceTokenList:i.replaceTokenList})(c["default"])},210:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(88),f=r(l),d=n(7),p=n(42),h=r(p),v=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.hidePopup=n.hidePopup.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleSwipedLeft=n.handleSwipedLeft.bind(n),n.handleSwipedRight=n.handleSwipedRight.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"hidePopup",value:function(){var e=this.props.location;d.browserHistory.push(/settings/.test(e.pathname)?"/settings":"/home")}},{key:"handleKeyDown",value:function(e){27===e.keyCode&&this.hidePopup()}},{key:"handleSwipedLeft",value:function(e){e.stopPropagation(),d.browserHistory.go()}},{key:"handleSwipedRight",value:function(e){e.stopPropagation(),d.browserHistory.goBack()}},{key:"render",value:function(){var e=this.props.children,t=this.props.location.pathname;return c["default"].createElement(f["default"],{className:"popup overflow--y",onSwipedLeft:this.handleSwipedLeft,onSwipedRight:this.handleSwipedRight,onClick:this.hidePopup},/(retweet|quote)/.test(t)?e:c["default"].createElement(h["default"],null,c["default"].cloneElement(e,{key:t})))}}]),t}(c["default"].Component);t["default"]=v},211:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(6),f=r(l),d=n(88),p=r(d),h=n(45),v=n(7),m=n(50),y=n(3),b=r(y),g=n(42),w=r(g),_=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.toggleAuth=n.toggleAuth.bind(n),n.handleStorageChange=n.handleStorageChange.bind(n),n.handleSwipedLeft=n.handleSwipedLeft.bind(n),n.handleSwipedRight=n.handleSwipedRight.bind(n),n}return a(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.clearTokenIfTokenExpired()}},{key:"componentDidMount",value:function(){window.addEventListener("storage",this.handleStorageChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("storage",this.handleStorageChange)}},{key:"toggleAuth",value:function(e){this.props.activeProviders.indexOf(e)<0?window.open("/auth/"+e,"_blank"):this.props.removeToken(e)}},{key:"handleStorageChange",value:function(e){"addToken"===e.key&&this.props.addToken()}},{key:"handleSwipedLeft",value:function(){v.browserHistory.push("/home")}},{key:"handleSwipedRight",value:function(){v.browserHistory.push("/settings/replicant")}},{key:"_renderAuthBtns",value:function(){var e=this,t=this.props,n=t.providers,r=t.activeProviders;return n.map(function(t){var n=r.indexOf(t)>=0,o=(0,f["default"])({"social__icon animate--faster tips":!0,"social__icon--active tips--active":n});return c["default"].createElement("button",{key:t,className:o,onClick:function(){return e.toggleAuth(t)},type:"button"},c["default"].createElement(b["default"],{name:t}))})}},{key:"render",value:function(){var e=this.props.children;return c["default"].createElement(p["default"],{onSwipedLeft:this.handleSwipedLeft,onSwipedRight:this.handleSwipedRight},c["default"].createElement("div",{className:"social animate--faster"},this._renderAuthBtns()),c["default"].createElement(w["default"],null,e))}}]),t}(c["default"].Component);t["default"]=(0,h.connect)(function(e){return{providers:e.auth.get("providers"),activeProviders:e.auth.get("activeProviders")}},{addToken:m.addToken,removeToken:m.removeToken,clearTokenIfTokenExpired:m.clearTokenIfTokenExpired})(_)},241:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(6),f=r(l),d=n(126),p=r(d),h=n(255),v=r(h),m=n(3),y=r(m),b=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={isShowScrollBtn:!1},n.scrollToTop=n.scrollToTop.bind(n),n.setScrollBtnState=n.setScrollBtnState.bind(n),n.handleContainerScoll=n.handleContainerScoll.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.debounceHandleContainerScoll=(0,p["default"])(this.handleContainerScoll,300);var e=document.querySelector(this.props.container);e.addEventListener("scroll",this.debounceHandleContainerScoll)}},{key:"componentWillUnmount",value:function(){var e=document.querySelector(this.props.container);e.removeEventListener("scroll",this.debounceHandleContainerScoll)}},{key:"setScrollBtnState",value:function(e){this.setState({isShowScrollBtn:e})}},{key:"scrollToTop",value:function(){var e=this.props,t=e.target,n=e.container,r=e.duration;(new v["default"]).jump(t,{container:n,duration:r})}},{key:"handleContainerScoll",value:function(e){var t=this,n=70,r=this.state.isShowScrollBtn,o=e.target.scrollTop;n>o?this.setScrollBtnState(!1):!r&&o<this.lastPosTop&&(this.setScrollBtnState(!0),setTimeout(function(){return t.setScrollBtnState(!1)},7e3)),this.lastPosTop=o}},{key:"render",value:function(){var e=this.state.isShowScrollBtn,t=(0,f["default"])({"scrollTo scrollTo--top tips animate--faster":!0,"scrollTo--top--active":e});return c["default"].createElement("button",{className:t,onClick:this.scrollToTop},c["default"].createElement(y["default"],{name:"triangle"}))}}]),t}(c["default"].Component);t["default"]=b},242:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(7),s=n(3),u=r(s);t["default"]=function(){return i["default"].createElement(a.Link,{to:"/home"},i["default"].createElement("span",{className:"sidebar__button btn animate--faster"},i["default"].createElement(u["default"],{name:"sidebar_ok"})))}},243:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(7),s=n(3),u=r(s);t["default"]=function(e){var t=e.step,n=e.className;return i["default"].createElement("button",{onClick:function(){return a.browserHistory.go(t)},className:"sidebar__button btn animate--faster "+n,type:"button"},i["default"].createElement(u["default"],{name:"sidebar_go"}))}},244:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(7),s=n(13),u=n(12);t["default"]=function(e){var t=e.link,n=e.activeProviders,r=(0,u.providersActive)({activeProviders:n}),o=r.isTwitterActive,c=r.isInstagramActive,l=r.isWeiboActive;return i["default"].createElement(a.Link,{to:t},i["default"].createElement("span",{className:"sidebar__button btn animate--faster"},i["default"].createElement("svg",{viewBox:"0 0 200 200"},i["default"].createElement("g",{fill:"none"},i["default"].createElement("circle",{fill:"#F1F1F1",cx:"100",cy:"100",r:"100"}),i["default"].createElement("circle",{fill:o?s.selectProviderColor.twitter:"#FFF",cx:"100",cy:"42.5",r:"15"}),i["default"].createElement("circle",{fill:c?s.selectProviderColor.instagram:"#FFF",cx:"100",cy:"100",r:"15"}),i["default"].createElement("circle",{fill:l?s.selectProviderColor.weibo:"#FFF",cx:"100",cy:"157.5",r:"15"})))))}},245:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(7),s=n(3),u=r(s);t["default"]=function(){return i["default"].createElement(a.Link,{to:"/settings/replicant"},i["default"].createElement("span",{className:"sidebar__button btn animate--faster"},i["default"].createElement(u["default"],{
name:"sidebar_replicant"})))}},246:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RightSidebar=t.LeftSidebar=void 0;var o=n(1),i=r(o),a=n(45),s=n(12),u=n(243),c=r(u),l=n(244),f=r(l),d=n(245),p=r(d),h=n(242),v=r(h),m=function(e){var t=e.match(/twitter|instagram|weibo/);return"color--"+(t?t[0]:"steel")},y=function(e){var t=e.activeProviders,n=e.location.pathname;return(0,s.isPopupPage)(n)?i["default"].createElement(c["default"],{step:-1,className:""+m(n)}):(0,s.isHomePage)(n)?i["default"].createElement(f["default"],{link:"/settings",activeProviders:t}):i["default"].createElement(p["default"],null)},b=function(e){var t=e.activeProviders,n=e.location.pathname;return(0,s.isPopupPage)(n)?i["default"].createElement(c["default"],{step:"1",className:m(n)+" rotate--180"}):t.length<=0?i["default"].createElement("span",null):(0,s.isHomePage)(n)?i["default"].createElement(f["default"],{link:"/home/menu",activeProviders:t}):(0,s.isSettingsPage)(n)?i["default"].createElement(v["default"],null):i["default"].createElement("span",null)};t.LeftSidebar=(0,a.connect)(function(e){return{activeProviders:e.auth.get("activeProviders")}})(y),t.RightSidebar=(0,a.connect)(function(e){return{activeProviders:e.auth.get("activeProviders")}})(b)},247:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(7),s=n(248),u=r(s),c=n(171),l=r(c),f=n(174),d=r(f),p=n(211),h=r(p),v=n(246),m=n(210),y=r(m),b=n(206),g=n(209),w=n(203),_={main:d["default"],leftSidebar:v.LeftSidebar,rightSidebar:v.RightSidebar},P={main:h["default"],leftSidebar:v.LeftSidebar,rightSidebar:v.RightSidebar};t["default"]=i["default"].createElement(a.Route,{path:"/",component:l["default"]},i["default"].createElement(a.IndexRoute,{onEnter:u["default"].Home}),i["default"].createElement(a.Route,{path:"home",components:_,onEnter:u["default"].Auth},i["default"].createElement(a.Route,{path:"menu",component:y["default"]},i["default"].createElement(a.IndexRoute,{component:b.HomeMenu})),i["default"].createElement(a.Route,{path:":provider",component:y["default"],onEnter:u["default"].VaildProvider},i["default"].createElement(a.IndexRoute,{component:b.ProviderMenu}),i["default"].createElement(a.Route,{path:":action(/:id)",component:w.Action,onEnter:u["default"].VaildAction}))),i["default"].createElement(a.Route,{path:"settings",components:P},i["default"].createElement(a.Route,{path:"replicant",component:y["default"]},i["default"].createElement(a.IndexRoute,{component:b.SettingsMenu}),i["default"].createElement(a.Route,{path:"deckard",component:g.Deckard}),i["default"].createElement(a.Route,{path:"rachael",component:g.Rachael}),i["default"].createElement(a.Redirect,{from:"*",to:"deckard"}))),i["default"].createElement(a.Redirect,{from:"*",to:"settings"}))},248:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(77),i=n(9),a=r(i),s=n(50),u=a["default"].getState().auth.get("activeProviders");a["default"].subscribe(function(){var e=a["default"].getState(),t=e.auth,n=e.lastAction.type;n===s.UPDATE_TOKEN&&(u=t.get("activeProviders"))}),t["default"]={Home:function(e,t){"/"===e.location.pathname&&t("/home")},Auth:function(e,t){(0,o.isValidToken)()||t("/settings")},VaildProvider:function(e,t){var n=e.params.provider,r=["twitter","instagram","weibo","unsplash"];~r.indexOf(n)&&~u.indexOf(n)||t("/home")},VaildAction:function(e,t){var n=e.params.action,r=["user","tags","locations","read","tweet","retweet","quote","reply","detail","share","search"];~r.indexOf(n)||t("/home");var o=["retweet","quote","reply","share"];~o.indexOf(n)&&!e.location.state&&t("/home")}}},255:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n,r){return e/=r/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)},i=function(){function e(){n(this,e)}return r(e,[{key:"jump",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.options={duration:n.duration,offset:n.offset||0,callback:n.callback,easing:n.easing||o,container:document.querySelector(n.container)||null},this.distance="string"==typeof e?this.options.offset+document.querySelector(e).getBoundingClientRect().top:e,this.duration="function"==typeof this.options.duration?this.options.duration(this.distance):this.options.duration,this.options.container?this.start=this.options.container.scrollTop:this.start=window.pageYOffset,requestAnimationFrame(function(e){return t._loop(e)})}},{key:"_loop",value:function(e){var t=this;this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=this.options.easing(this.timeElapsed,this.start,this.distance,this.duration),this.options.container?this.options.container.scrollTop=this.next:window.scrollTo(0,this.next),this.timeElapsed<this.duration?requestAnimationFrame(function(e){return t._loop(e)}):this._end()}},{key:"_end",value:function(){this.options.container?this.options.container.scrollTop=this.next+this.distance:window.scrollTo(0,this.next+this.distance),"function"==typeof this.options.callback&&this.options.callback(),this.timeStart=!1}}]),e}();t["default"]=i},258:function(e,t,n){var r,o,i;!function(a,s){o=[e,n(398)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(t),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){r(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},e.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},e.prototype.selectFake=function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return e.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="fixed",this.fakeElem.style[t?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,o["default"])(this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=(0,o["default"])(this.target),this.copyText()},e.prototype.copyText=function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},e.prototype.handleResult=function(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},a(e,[{key:"action",set:function(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s})},259:function(e,t,n){var r,o,i;!function(a,s){o=[e,n(258),n(407),n(286)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n="data-clipboard-"+e;return t.hasAttribute(n)?t.getAttribute(n):void 0}var c=o(t),l=o(n),f=o(r),d=function(e){function t(n,r){i(this,t);var o=a(this,e.call(this));return o.resolveOptions(r),o.listenClick(n),o}return s(t,e),t.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},t.prototype.listenClick=function(e){var t=this;this.listener=(0,f["default"])(e,"click",function(e){return t.onClick(e)})},t.prototype.onClick=function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c["default"]({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},t.prototype.defaultAction=function(e){return u("action",e)},t.prototype.defaultTarget=function(e){var t=u("target",e);return t?document.querySelector(t):void 0},t.prototype.defaultText=function(e){return u("text",e)},t.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(l["default"]);e.exports=d})},260:function(e,t,n){var r=n(299);e.exports=function(e,t,n){for(var o=n?e:e.parentNode;o&&o!==document;){if(r(o,t))return o;o=o.parentNode}}},267:function(e,t,n){function r(e,t,n,r,i){var a=o.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}function o(e,t,n,r){return function(n){n.delegateTarget=i(n.target,t,!0),n.delegateTarget&&r.call(e,n)}}var i=n(260);e.exports=r},268:function(e,t,n){var r;(function(e,o,i){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.1.2
	 */
(function(){"use strict";function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return"function"==typeof e}function u(e){z=e}function c(e){V=e}function l(){return function(){e.nextTick(v)}}function f(){return function(){$(v)}}function d(){var e=0,t=new ee(v),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function p(){var e=new MessageChannel;return e.port1.onmessage=v,function(){e.port2.postMessage(0)}}function h(){return function(){setTimeout(v,1)}}function v(){for(var e=0;J>e;e+=2){var t=re[e],n=re[e+1];t(n),re[e]=void 0,re[e+1]=void 0}J=0}function m(){try{var e=n(413);return $=e.runOnLoop||e.runOnContext,f()}catch(t){return h()}}function y(e,t){var n=this,r=n._state;if(r===se&&!e||r===ue&&!t)return this;var o=new this.constructor(g),i=n._result;if(r){var a=arguments[r-1];V(function(){R(r,o,a,i)})}else M(n,o,e,t);return o}function b(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(g);return T(n,e),n}function g(){}function w(){return new TypeError("You cannot resolve a promise with itself")}function _(){return new TypeError("A promises callback cannot return that same promise.")}function P(e){try{return e.then}catch(t){return ce.error=t,ce}}function E(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function S(e,t,n){V(function(e){var r=!1,o=E(n,t,function(n){r||(r=!0,t!==n?T(e,n):j(e,n))},function(t){r||(r=!0,x(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,x(e,o))},e)}function O(e,t){t._state===se?j(e,t._result):t._state===ue?x(e,t._result):M(t,void 0,function(t){T(e,t)},function(t){x(e,t)})}function k(e,t,n){t.constructor===e.constructor&&n===oe&&constructor.resolve===ie?O(e,t):n===ce?x(e,ce.error):void 0===n?j(e,t):s(n)?S(e,t,n):j(e,t)}function T(e,t){e===t?x(e,w()):a(t)?k(e,t,P(t)):j(e,t)}function C(e){e._onerror&&e._onerror(e._result),F(e)}function j(e,t){e._state===ae&&(e._result=t,e._state=se,0!==e._subscribers.length&&V(F,e))}function x(e,t){e._state===ae&&(e._state=ue,e._result=t,V(C,e))}function M(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+se]=n,o[i+ue]=r,0===i&&e._state&&V(F,e)}function F(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?R(n,r,o,i):o(i);e._subscribers.length=0}}function L(){this.error=null}function N(e,t){try{return e(t)}catch(n){return le.error=n,le}}function R(e,t,n,r){var o,i,a,u,c=s(n);if(c){if(o=N(n,r),o===le?(u=!0,i=o.error,o=null):a=!0,t===o)return void x(t,_())}else o=r,a=!0;t._state!==ae||(c&&a?T(t,o):u?x(t,i):e===se?j(t,o):e===ue&&x(t,o))}function I(e,t){try{t(function(t){T(e,t)},function(t){x(e,t)})}catch(n){x(e,n)}}function A(e){return new me(this,e).promise}function D(e){function t(e){T(o,e)}function n(e){x(o,e)}var r=this,o=new r(g);if(!G(e))return x(o,new TypeError("You must pass an array to race.")),o;for(var i=e.length,a=0;o._state===ae&&i>a;a++)M(r.resolve(e[a]),void 0,t,n);return o}function B(e){var t=this,n=new t(g);return x(n,e),n}function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(e){this._id=he++,this._state=void 0,this._result=void 0,this._subscribers=[],g!==e&&("function"!=typeof e&&q(),this instanceof H?I(this,e):U())}function W(e,t){this._instanceConstructor=e,this.promise=new e(g),Array.isArray(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&j(this.promise,this._result))):x(this.promise,this._validationError())}function Y(){var e;if("undefined"!=typeof o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(e.Promise=ve)}var X;X=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var $,z,K,G=X,J=0,V=function(e,t){re[J]=e,re[J+1]=t,J+=2,2===J&&(z?z(v):K())},Q="undefined"!=typeof window?window:void 0,Z=Q||{},ee=Z.MutationObserver||Z.WebKitMutationObserver,te="undefined"!=typeof e&&"[object process]"==={}.toString.call(e),ne="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,re=new Array(1e3);K=te?l():ee?d():ne?p():void 0===Q?m():h();var oe=y,ie=b,ae=void 0,se=1,ue=2,ce=new L,le=new L,fe=A,de=D,pe=B,he=0,ve=H;H.all=fe,H.race=de,H.resolve=ie,H.reject=pe,H._setScheduler=u,H._setAsap=c,H._asap=V,H.prototype={constructor:H,then:oe,"catch":function(e){return this.then(null,e)}};var me=W;W.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},W.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===ae&&e>n;n++)this._eachEntry(t[n],n)},W.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===ie){var o=P(e);if(o===oe&&e._state!==ae)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===ve){var i=new n(g);k(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){t(e)}),t)}else this._willSettleAt(r(e),t)},W.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===ae&&(this._remaining--,e===ue?x(r,n):this._result[t]=n),0===this._remaining&&j(r,this._result)},W.prototype._willSettleAt=function(e,t){var n=this;M(e,void 0,function(e){n._settledAt(se,t,e)},function(e){n._settledAt(ue,t,e)})};var ye=Y,be={Promise:ve,polyfill:ye};n(409).amd?(r=function(){return be}.call(t,n,t,i),!(void 0!==r&&(i.exports=r))):"undefined"!=typeof i&&i.exports?i.exports=be:"undefined"!=typeof this&&(this.ES6Promise=be),ye()}).call(this)}).call(t,n(303),function(){return this}(),n(410)(e))},285:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},286:function(e,t,n){function r(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!s.string(t))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(e))return o(e,t,n);if(s.nodeList(e))return i(e,t,n);if(s.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function i(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return u(document.body,e,t,n)}var s=n(285),u=n(267);e.exports=r},291:function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};e.exports=function(e,t){for(var o=Object.getOwnPropertyNames(t),i=0;i<o.length;++i)if(!n[o[i]]&&!r[o[i]])try{e[o[i]]=t[o[i]]}catch(a){}return e}},292:function(e,t,n){n(411),e.exports=self.fetch.bind(self)},299:function(e,t){function n(e,t){if(o)return o.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;++r)if(n[r]==e)return!0;return!1}var r=Element.prototype,o=r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;e.exports=n},303:function(e,t){function n(){c=!1,a.length?u=a.concat(u):l=-1,u.length&&r()}function r(){if(!c){var e=setTimeout(n);c=!0;for(var t=u.length;t;){for(a=u,u=[];++l<t;)a&&a[l].run();l=-1,t=u.length}a=null,c=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var a,s=e.exports={},u=[],c=!1,l=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new o(e,t)),1!==u.length||c||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},310:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t["default"]=void 0;var s=n(1),u=n(129),c=r(u),l=n(130),f=(r(l),function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.store=n.store,a}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return s.Children.only(e)},t}(s.Component));t["default"]=f,f.propTypes={store:c["default"].isRequired,children:s.PropTypes.element.isRequired},f.childContextTypes={store:c["default"].isRequired}},311:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.displayName||e.name||"Component"}function u(e,t){try{return e.apply(t)}catch(n){return T.value=n,T}}function c(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],c=Boolean(e),d=e||S,h=void 0;h="function"==typeof t?t:t?(0,y["default"])(t):O;var m=n||k,b=r.pure,g=void 0===b?!0:b,w=r.withRef,P=void 0===w?!1:w,j=g&&m!==k,x=C++;return function(e){function t(e,t,n){var r=m(e,t,n);return r}var n="Connect("+s(e)+")",r=function(r){function s(e,t){o(this,s);var a=i(this,r.call(this,e,t));a.version=x,a.store=e.store||t.store,(0,E["default"])(a.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var u=a.store.getState();return a.state={storeState:u},a.clearCache(),a}return a(s,r),s.prototype.shouldComponentUpdate=function(){return!g||this.haveOwnPropsChanged||this.hasStoreStateChanged},s.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},s.prototype.configureFinalMapState=function(e,t){var n=d(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:d,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},s.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},s.prototype.configureFinalMapDispatch=function(e,t){var n=h(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:h,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},s.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return this.stateProps&&(0,v["default"])(e,this.stateProps)?!1:(this.stateProps=e,!0)},s.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return this.dispatchProps&&(0,v["default"])(e,this.dispatchProps)?!1:(this.dispatchProps=e,!0)},s.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return this.mergedProps&&j&&(0,v["default"])(e,this.mergedProps)?!1:(this.mergedProps=e,!0)},s.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},s.prototype.trySubscribe=function(){c&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},s.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},s.prototype.componentDidMount=function(){this.trySubscribe()},s.prototype.componentWillReceiveProps=function(e){g&&(0,v["default"])(e,this.props)||(this.haveOwnPropsChanged=!0)},s.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},s.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},s.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!g||t!==e){if(g&&!this.doStatePropsDependOnOwnProps){var n=u(this.updateStatePropsIfNeeded,this);if(!n)return;n===T&&(this.statePropsPrecalculationError=T.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},s.prototype.getWrappedInstance=function(){return(0,E["default"])(P,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},s.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,i=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var a=!0,s=!0;g&&i&&(a=n||t&&this.doStatePropsDependOnOwnProps,s=t&&this.doDispatchPropsDependOnOwnProps);var u=!1,c=!1;r?u=!0:a&&(u=this.updateStatePropsIfNeeded()),s&&(c=this.updateDispatchPropsIfNeeded());var d=!0;return d=u||c||t?this.updateMergedPropsIfNeeded():!1,!d&&i?i:(P?this.renderedElement=(0,f.createElement)(e,l({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,f.createElement)(e,this.mergedProps),this.renderedElement)},s}(f.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:p["default"]},r.propTypes={store:p["default"]},(0,_["default"])(r,e)}}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=c;var f=n(1),d=n(129),p=r(d),h=n(312),v=r(h),m=n(313),y=r(m),b=n(130),g=(r(b),n(83)),w=(r(g),n(291)),_=r(w),P=n(15),E=r(P),S=function(e){return{}},O=function(e){return{dispatch:e}},k=function(e,t,n){return l({},n,e,t)},T={value:null},C=0},312:function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}t.__esModule=!0,t["default"]=n},313:function(e,t,n){"use strict";function r(e){return function(t){return(0,o.bindActionCreators)(e,t)}}t.__esModule=!0,t["default"]=r;var o=n(109)},398:function(e,t){function n(e){var t;if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r),t=n.toString()}return t}e.exports=n},407:function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){o.off(e,r),t.apply(n,arguments)}var o=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;for(r;o>r;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;a>i;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=n},409:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},410:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},411:function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function i(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function a(e){var t=new FileReader;return t.readAsArrayBuffer(e),i(t)}function s(e){var t=new FileReader;return t.readAsText(e),i(t)}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(h.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(h.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!h.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type&&this.headers.set("content-type",this._bodyBlob.type))},h.blob?(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=o(this);return e?e:Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}function l(e,t){t=t||{};var n=t.body;if(l.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function d(e){var t=new r,n=e.getAllResponseHeaders().trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();t.append(r,o)}),t}function p(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof r?t.headers:new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){r.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];o||(o=[],this.map[e]=o),o.push(r)},r.prototype["delete"]=function(e){delete this.map[t(e)]},r.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},r.prototype.getAll=function(e){return this.map[t(e)]||[]},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},r.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)};var h={blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e},v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this)},u.call(l.prototype),u.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];p.redirect=function(e,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=l,e.Response=p,e.fetch=function(e,t){return new Promise(function(n,r){function o(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var i;i=l.prototype.isPrototypeOf(e)&&!t?e:new l(e,t);var a=new XMLHttpRequest;a.onload=function(){var e=1223===a.status?204:a.status;if(100>e||e>599)return void r(new TypeError("Network request failed"));var t={status:e,statusText:a.statusText,headers:d(a),url:o()},i="response"in a?a.response:a.responseText;n(new p(i,t))},a.onerror=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&h.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},413:function(e,t){}});