angular.module("Oneline",["ngTouch","ngResource","ngSanitize","ui.router","angular-jwt","angular-storage","linkify","weibo-emotify","Oneline.templates","Oneline.rootControllers","Oneline.settingsControllers","Oneline.timelineControllers","Oneline.timelineServices","Oneline.actionsServices","Oneline.RESTfulServices","Oneline.relativeDateServices","Oneline.tokenHelperServices","Oneline.UIServices","Oneline.olMediaDirectives","Oneline.olTextDirectives","Oneline.olControlCenterDirectives"]).config(["$locationProvider","$stateProvider","$urlRouterProvider","$httpProvider","jwtInterceptorProvider","weiboEmotifyProvider",function(e,t,n,i,r,o){e.html5Mode(!0),r.tokenGetter=function(){return localStorage.getItem("tokenList")},i.interceptors.push("jwtInterceptor"),n.otherwise("/"),t.state("settings",{url:"/settings",templateProvider:["$templateCache",function(e){return e.get("settings.html")}],controller:"settingsCtrl"}).state("timeline",{url:"/",templateProvider:["$templateCache",function(e){return e.get("timeline.html")}],controller:"timelineCtrl"}),o.setEmotionsURL("/public/dist/emotions_v1.min.json")}]).factory("timelineCache",["$cacheFactory",function(e){return e("timelineCache")}]);
angular.module("Oneline.olControlCenterDirectives",[]).directive("replicantDeckard",["Replicant",function(e){return{restrict:"A",link:function(n,t,r){var i=setInterval(function(){for(var e="";e.length<7;e+=Math.random().toString(36).substr(2));t.html(e.substr(0,7))},100);e.deckard().$promise.then(function(e){setTimeout(function(){clearInterval(i),t.html(e.code)},700)},function(e){clearInterval(i)})}}}]).directive("replicantRachael",["Replicant",function(e){return{restrict:"A",link:function(n,t,r){var i="";e.rachael({code:i}).$promise.then(function(e){olTokenHelper.replaceTokenList(e.tokenList)},function(e){console.log(e)})}}}]);
angular.module("Oneline.olMediaDirectives",[]).directive("olVideo",function(){return{restrict:"E",scope:{olPoster:"=",olSrc:"="},template:'<video ng-attr-poster="{{olPoster}}" preload="none" loop></video>                    <svg class="timeline__media__playButton animate--faster">                        <use xlink:href="/public/img/icon-sprite.svg#play-icon"></use>                    </svg>',link:function(e,t,a){var i=t.children()[0],n=angular.element(t.children()[1]);i.setAttribute("src",e.olSrc),t.bind("click",function(){i.paused?i.play():i.pause(),n.toggleClass("timeline__media__playButton--playing"),t.bind("mouseout",function(){i.removeAttribute("loop")})}),angular.element(i).bind("ended",function(){n.removeClass("timeline__media__playButton--playing")})}}}).directive("olImageThumb",function(){return{restrict:"A",link:function(e,t,a){t.bind("click",function(){var e=t.parent(),i=e.next(),n=e.children(),l=i.find("img"),r=i.find("a");if(n.removeClass("button--active"),n.addClass("button--inactive"),t.addClass("button--active timeline__media--loading"),e.addClass("timeline__media--small"),i.removeClass("timeline__media--inactive"),l.attr("src",a.src.replace(/square|small/,"bmiddle")),r.attr("href",a.src.replace(/square|small/,"large")),l.bind("load",function(){1===n.length?t.parent().remove():null,t.removeClass("timeline__media--loading"),l.unbind("load")}),!l.data("urlList")){var o=Array.prototype.map.call(n,function(e){return angular.element(e).attr("src").replace(/square|small/,"bmiddle")});l.data("urlList",o)}})}}}).directive("selectImage",function(){return{restrict:"A",link:function(e,t,a){a.imageCount>1&&(t.bind("mousemove",function(e){e.offsetX-t[0].offsetWidth/2>0?(t.removeClass("cursor--pre"),t.addClass("cursor--next")):(t.removeClass("cursor--next"),t.addClass("cursor--pre"))}),t.bind("click",function(){var e=t.data("urlList")||[],a=e.indexOf(t.attr("src")),i=t.hasClass("cursor--next")?a+1:a-1;if(!(0>i||i>e.length-1)){var n=angular.element(angular.element(t.parent().parent().children()[0]).children()),l=angular.element(n[i]);t.attr("src",e[i]),t.next().attr("href",e[i].replace("bmiddle","large")),n.removeClass("button--active timeline__media--loading"),l.addClass("button--active timeline__media--loading"),t.bind("load",function(){l.removeClass("timeline__media--loading"),t.unbind("load")})}}))}}});
angular.module("Oneline.olTextDirectives",[]).directive("trimMediaLink",["$timeout",function(t){return{restrict:"A",link:function(i,e,n){t(function(){e.html(e.html().replace(n.trimMediaLink,""))})}}}]).filter("html",["$sce",function(t){return function(i){return t.trustAsHtml(i)}}]);
angular.module("Oneline.RESTfulServices",[]).factory("Timeline",["$resource",function(e){return e("/timeline/:id/:count",null,{initLoad:{method:"GET"},load:{method:"GET"}})}]).factory("Action",["$resource",function(e){return e("/actions/:action/:provider/:id",null,{create:{method:"PUT",params:{action:"@action",provider:"@provider",id:"@id"}},destroy:{method:"DELETE"}})}]).factory("Auth",["$resource",function(e){return e("/auth/revoke/:provider",null,{revoke:{method:"DELETE"}})}]).factory("Replicant",["$resource",function(e){return e("/auth/replicant/:replicant",null,{deckard:{method:"GET",params:{replicant:"deckard"}},rachael:{method:"POST",params:{replicant:"rachael"}}})}]);
angular.module("Oneline.UIServices",[]).service("olUI",["$filter",function(t){this.setLoading=function(t,a){var e=angular.element(document.getElementsByClassName("loadMore")[1===a?0:1]);"start"===t?(e.removeClass("loadMore--loading--fail"),e.addClass("loadMore--loading")):"done"===t?e.removeClass("loadMore--initLoad loadMore--loading loadMore--loading--fail"):"fail"===t&&e.addClass("loadMore--loading loadMore--loading--fail")},this.isLoading=function(t){var a=angular.element(document.getElementsByClassName("loadMore")[1===t?0:1]);return a.hasClass("loadMore--loading")&&!a.hasClass("loadMore--loading--fail")||a.hasClass("loadMore--initLoad")},this.setDivider=function(a){var e=document.querySelectorAll(".timeline:not(.timeline--quote)");e=angular.element(e[1===a?0:e.length-1]),e.attr("data-date",t("date")(Date.now(),"HH:mm")).addClass(1===a?"divider divider--top":"divider divider--bottom")},this.setPostsCount=function(t,a){var e="newPosts"===t;if(e&&a%1===0){var o=(~~a).toString().split(""),n={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹"};__msg="",""!==a&&o.forEach(function(t){__msg+=n[t]}),document.title="｜"+__msg}document.getElementsByClassName("loadMore__count")[e?0:1].setAttribute("data-count",a)};var a=function(t,a){return angular.element(document.querySelector('[data-id="'+a+'"]').querySelector("[data-"+t+"]"))};this.setActionState=function(t,e,o){var n=a(t,e);switch(o){case"wait":n.addClass("actions__button--wait");break;case"done":n.removeClass("actions__button--wait");break;case"active":n.addClass("actions__button--active"),n.parent().addClass("tips--active");break;case"inactive":n.removeClass("actions__button--active"),n.parent().removeClass("tips--active")}},this.isActionActive=function(t,e){var o=a(t,e);return o.hasClass("actions__button--active")},this.isActionWait=function(t,e){var o=a(t,e);return o.hasClass("actions__button--wait")},this.isActionFrozen=function(t,e){var o=a(t,e);return o.parent().hasClass("tips--frozen")},this.actionData=function(t,e,o,n){var i,s=a(t,e);return"count"===n?(s=s.next(),i="data-count"):i="data-"+t,console.log(s,i),o||""===o?void s.attr(i,o):s.attr(i)}}]);
angular.module("Oneline.actionsServices",[]).service("olActionsHelper",["Action","olUI",function(t,a){this.toggleAction=function(e,n,o,i){var c=i?"destroy":"create",r=o;return"retweet"===e&&"destroy"===c&&(o=a.actionData(e,r),console.log(o)),t[c]({action:e,provider:n,id:o}).$promise.then(function(t){if("create"===c){if("retweet"===e&&a.actionData(e,r,t.id_str),"star"!==e){var n=~~a.actionData(e,r,null,"count")+1;a.actionData(e,r,n,"count")}}else if("star"!==e){var n=~~a.actionData(e,r,null,"count")-1;a.actionData(e,r,n>0?n:"","count")}})}}]);
angular.module("Oneline.relativeDateServices",["relativeDate"]).value("relativeDateTranslations",{just_now:"0s",seconds_ago:"{{time}}s",a_minute_ago:"1m",minutes_ago:"{{time}}m",an_hour_ago:"1h",hours_ago:"{{time}}h",a_day_ago:"1d",days_ago:"{{time}}d",a_week_ago:"1w",weeks_ago:"{{time}}w",a_month_ago:"1M",months_ago:"{{time}}M",a_year_ago:"1y",years_ago:"{{time}}y",over_a_year_ago:"> 1y",seconds_from_now:"+ {{time}}s",a_minute_from_now:"+ 1m",minutes_from_now:"+ {{time}}m",an_hour_from_now:"+ 1h",hours_from_now:"+ {{time}}h",a_day_from_now:"+ 1d",days_from_now:"+ {{time}}d",a_week_from_now:"+ 1w",weeks_from_now:"+ {{time}}w",a_month_from_now:"+ 1M",months_from_now:"+ {{time}}M",a_year_from_now:"+ 1y",years_from_now:"+ {{time}}y",over_a_year_from_now:"++ 1y"});
angular.module("Oneline.timelineServices",[]).service("olTimelineHelper",["$q","$state","Timeline","timelineCache","olUI","olTokenHelper",function(t,e,n,o,s,i){var r=Date.now(),a=90,d=18e5;this.initLoad=function(e){var o=t.defer(),s=this;return n.initLoad().$promise.then(function(t){if(!t||t.data&&t.data.length<1)return void o.reject({status:304});s.storePosts("oldPosts",t,e);var n={data:[],max_id:t.max_id,max_date:t.max_date};return s.storePosts("newPosts",n,e),s.checkOldPosts(e).then(function(t){return t.length>0?s.loadOldPosts(t,e):void o.resolve()})}).then(function(){o.resolve()})["catch"](function(t){o.reject(t)}),o.promise},this.initTimelineSettings=function(){r=Date.now(),a=50,o.removeAll()},this.getId=function(t,e){var n,s,i=(o.get(t),"");return"oldPosts"===t?(n="_maxId-",s="_min_id"):(n="_minId-",s="_max_id"),e.forEach(function(t,r){var a=(o.get("oldPosts"),t+n+o.get(t+s)+(r===e.length-1?"":","));i+=a}),i},this.storePosts=function(t,e,n){var s,i,r,a=o.get(t)||[];"oldPosts"===t?(s="min",i="_min_id",r="_min_date"):(s="max",i="_max_id",r="_max_date"),n.forEach(function(t){var n=t+i,a=e[s+"_id"][t],d=t+r,c=e[s+"_date"][t];a&&o.put(n,a),c&&o.put(d,c)}),a=a.concat(e.data),o.put(t,a)},this.checkOldPosts=function(e){return t(function(t,n){var s=e.filter(function(t){return r-o.get(t+"_min_date")<d});t(s)})},this.extractOldPosts=function(t){for(var e,n=o.get("oldPosts")||[],s=!0;s;)e=n.filter(function(t){var e=r-t.created_at;return e>0&&d>=e}),r-=d,e.length>0&&(s=!1);return this.updateOldPostsCount(t),e},this.loadOldPosts=function(e,o){function s(e){var s=t.defer(),i=d.getId("oldPosts",e);return n.load({id:i,count:c}).$promise.then(function(t){return!t||t.data&&t.data.length<1?void s.reject({status:304}):(t.min_date.twitter&&t.data.splice(0,1),d.storePosts("oldPosts",t,o),100>c?c+=10:null,void s.resolve())})["catch"](function(t){s.reject(t)}),s.promise}function i(){var e=t.defer();return d.checkOldPosts(o).then(function(t){t.length>0?s(t).then(i).then(function(){e.resolve()})["catch"](function(t){e.reject(t)}):e.resolve()}),e.promise}var r=t.defer(),d=this,c=a;return s(e).then(i).then(function(){100>a?a+=10:null,r.resolve()})["catch"](function(t){r.reject(t)}),r.promise},this.loadNewPosts=function(e){var o=t.defer();return _this=this,n.load({id:_this.getId("newPosts",e),count:70}).$promise.then(function(t){t.data&&t.data.length>0?(_this.storePosts("newPosts",t,e),o.resolve()):o.reject({status:304})},function(t){o.reject(t)}),o.promise},this.removeOldPosts=function(t,e){var n=Date.now(),o=t.filter(function(t){return n-t.created_at<2*d});return r=n-2*d,this.updateOldPostsCount(e),o},this.updateOldPostsCount=function(t){this.checkOldPosts(t).then(function(t){if(t.length>0)s.setPostsCount("oldPosts","");else{var e=o.get("oldPosts")||[],n=0;e.forEach(function(t){var e=r-t.created_at;e>0&&d>=e&&n++}),s.setPostsCount("oldPosts",0===n?"":n)}})},this.handleError=function(t,n){if(console.log(t),!t)return void s.setLoading("fail",n);if(401===t.status)i.clearToken(),e.go("settings");else if(429===t.status){s.setLoading("fail",n);var o=new Date(1e3*t.data.reset).toLocaleTimeString("en-GB").substring(0,5);s.setPostsCount("newPosts",o)}else s.setLoading("done",n)}}]);
angular.module("Oneline.tokenHelperServices",[]).service("olTokenHelper",["jwtHelper","store",function(e,t){this.addToken=function(){var o=localStorage.getItem("addToken"),r=e.decodeToken(o).provider,i=t.get("tokenList")||[];i=n.removeToken(i,r),i.push(o),t.set("tokenList",i),t.remove("addToken")},this.replaceTokenList=function(e){t.set("tokenList",e)},this.removeToken=function(e){var o=t.get("tokenList")||[];o=n.removeToken(o,e),t.set("tokenList",o)},this.clearToken=function(){t.remove("tokenList")},this.getProviderList=function(){var n=t.get("tokenList")||[];return n.map(function(t){return e.decodeToken(t).provider})},this.isValidToken=function(){var n=t.get("tokenList")||[];return n.length>0&&n.every(function(t){return!e.isTokenExpired(t)})};var n={removeToken:function(t,n){return t.filter(function(t){return n!==e.decodeToken(t).provider})}}}]);
angular.module("Oneline.rootControllers",[]).controller("rootController",["$scope","$timeout","$state","olTokenHelper",function(e,o,t,n){e.providerList=n.getProviderList(),e.isTimeline=!1,e.controlCenter="",e.updateProviderList=function(){o(function(){e.providerList=n.getProviderList()})},e.setTimeline=function(o){e.isTimeline=o},e.setControlCenter=function(o){e.controlCenter=o},e.isAuth=function(o){return e.providerList.indexOf(o)>=0},e["goto"]=function(e){t.go(e)}}]);
angular.module("Oneline.settingsControllers",[]).controller("settingsCtrl",["$scope","$window","$state","$stateParams","olTokenHelper","timelineCache","Auth","Replicant",function(e,t,n,o,r,i,l,a){r.isValidToken()||(r.clearToken(),e.updateProviderList()),e.setTimeline(!1),window.intervalLoad&&clearInterval(window.intervalLoad),t.addEventListener("storage",function(t){"addToken"===t.key&&(r.addToken(),e.updateProviderList())}),e.toggleAuth=function(n){e.providerList.indexOf(n)<0?t.open("/auth/"+n,"_blank"):l.revoke({provider:n}).$promise["finally"](function(){r.removeToken(n),e.updateProviderList()})},e.toggleControlCenter=function(t){e.controlCenter===t?e.setControlCenter(""):e.setControlCenter(t)}}]);
angular.module("Oneline.timelineControllers",[]).controller("timelineCtrl",["$scope","$q","$state","Timeline","olUI","olTokenHelper","olTimelineHelper","olActionsHelper","timelineCache",function(t,e,n,i,o,s,a,l,r){return s.isValidToken()?(t.setTimeline(!0),t.timelineData=[],a.initTimelineSettings(),a.initLoad(t.providerList).then(function(){t.timelineData=a.extractOldPosts(t.providerList),window.intervalLoad&&clearInterval(window.intervalLoad),window.intervalLoad=setInterval(function(){a.loadNewPosts(t.providerList).then(function(){var t=(r.get("newPosts")||[]).length;o.setLoading("done",1),o.setPostsCount("newPosts",t)})},18e4),o.setLoading("done",1),o.setLoading("done",-1)})["catch"](function(t){a.handleError(t,step)}),t.loadMore=function(n){o.isLoading(n)||e(function(e,i){if(o.setLoading("start",n),n>0){o.setPostsCount("newPosts","");var s=r.get("newPosts")||[];s.length>0?e([s,"newPosts"]):a.loadNewPosts(t.providerList).then(function(){e([r.get("newPosts")||[],"newPosts"])},function(t){i(t)})}else a.checkOldPosts(t.providerList).then(function(e){return e.length>0?a.loadOldPosts(e,t.providerList):void 0}).then(function(){var n=a.extractOldPosts(t.providerList);e([t.timelineData.concat(n)])})["catch"](function(t){i(t)})}).then(function(e){if("newPosts"===e[1]){var i=t.timelineData.concat(e[0]);t.timelineData=a.removeOldPosts(i,t.providerList),r.put("newPosts",[])}else t.timelineData=e[0];o.setDivider(n),o.setLoading("done",n)})["catch"](function(t){a.handleError(t,n)})},void(t.toggleAction=function(t,e,n){if(!o.isActionWait(t,n)&&!o.isActionFrozen(t,n)){var i=o.isActionActive(t,n);o.setActionState(t,n,"wait"),o.setActionState(t,n,i?"inactive":"active"),l.toggleAction(t,e,n,i)["catch"](function(e){o.setActionState(t,n,i?"active":"inactive")})["finally"](function(){o.setActionState(t,n,"done")})}})):(s.clearToken(),t.updateProviderList(),void n.go("settings"))}]);
angular.module("Oneline.templates",[]).run(["$templateCache",function(e){e.put("settings.html",'<!-- Social -->\n<div class="social-list">\n    <div class="vertically_center">\n        <!-- Twitter -->\n        <svg class="social-icon animate--faster tips" ng-class="{\'social-icon--active tips--active\': isAuth(\'twitter\')}" ng-click="toggleAuth(\'twitter\')" viewBox="0 0 300 300">\n            <use xlink:href="/public/img/icon-sprite.svg#twitter-icon"></use>\n        </svg>\n    \n        <!-- Instagram -->\n        <svg class="social-icon animate--faster tips" ng-class="{\'social-icon--active tips--active\': isAuth(\'instagram\')}" ng-click="toggleAuth(\'instagram\')" viewBox="0 0 775 300">\n           <use xlink:href="/public/img/icon-sprite.svg#instagram-icon"></use>\n        </svg>\n\n        <!-- Weibo -->\n        <svg class="social-icon animate--faster tips" ng-class="{\'social-icon--active tips--active\': isAuth(\'weibo\')}" ng-click="toggleAuth(\'weibo\')" viewBox="0 0 301 300">\n            <use xlink:href="/public/img/icon-sprite.svg#weibo-icon"></use>\n        </svg>\n    </div>\n</div>\n\n<!-- Replicant -->\n<svg ng-if="providerList.length > 0" ng-click="toggleControlCenter(\'replicant--deckard\')" class="replicant-icon replicant-icon--deckard tips animate--faster" viewBox="0 0 122 100">\n    <use xlink:href="/public/img/icon-sprite.svg#replicant-deckard-icon"></use>\n</svg>\n<svg ng-click="toggleControlCenter(\'replicant--rachael\')" class="replicant-icon replicant-icon--rachael tips animate--faster" viewBox="0 0 48 100">\n    <use xlink:href="/public/img/icon-sprite.svg#replicant-rachael-icon"></use>\n</svg>\n'),e.put("timeline.html",'<div ng-click="loadMore(1)" class="loadMore loadMore--new loadMore--initLoad loadMore--loading loadMore__count animate--faster" data-count>\n</div>\n\n<div class="timeline" ng-repeat="item in timelineData | orderBy: \'-created_at\'" data-id="{{::item.id_str}}" data-date>\n\n    <div ng-class="::\'timeline--\' + item.provider" ng-include="item.provider + \'/\' + item.type + \'.html\'"></div>\n\n</div>\n\n<div ng-click="loadMore(-1)" class="loadMore loadMore--old loadMore--initLoad loadMore__count animate--faster" data-count>\n</div>\n'),e.put("instagram/post.html",'<div class="timeline__profile">\n    <a ng-href="//instagram.com/{{::item.user.username}}" target="_blank">\n        <img class="timeline__profile__avatar timeline__profile__avatar--instagram" ng-src="{{::item.user.profile_picture}}" alt="avatar">\n    </a>\n    <div class="timeline__profile__fullname">\n        <a ng-href="//instagram.com/{{::item.user.username}}" target="_blank">\n            <strong>{{::item.user.full_name}}</strong>\n        </a>\n    </div>\n</div>\n\n<div class="timeline__content">\n\n    <div ng-include=" \'media/instagram.html\' "></div>\n    <p class="timeline__text" linkify="instagram">{{::item.text | html}}</p>\n</div>\n\n<div ng-include=" \'actions/instagram.html\' "></div>\n\n<span class="timeline__time tips" relative-date="{{::item.created_at}}"></span>\n'),e.put("actions/instagram.html",'<span class="cursor--pointer">\n    <div class="actions tips--deep tips--frozen">\n        <svg class="actions__button" ng-class="::{\'button--active\': item.favorited}">\n            <use xlink:href="/public/img/icon-sprite.svg#like-icon"></use>\n        </svg>\n        <span class="actions__count" ng-attr-data-count="{{::item.favorite_count > 0 ? item.favorite_count : \'\'}}"></span>\n    </div>\n    <div class="actions tips--deep tips--frozen">\n        <svg class="actions__button">\n            <use xlink:href="/public/img/icon-sprite.svg#reply-icon"></use>\n        </svg>\n        <span class="actions__count" ng-attr-data-count="{{::item.reply_count > 0 ? item.reply_count : \'\'}}"></span>\n    </div>\n    <div class="actions tips--deep">\n        <a ng-href="{{::item.link}}" target="_blank">\n            <svg class="actions__button">\n                <use xlink:href="/public/img/icon-sprite.svg#source-icon"></use>\n            </svg>\n        </a>\n    </div>\n</span>\n'),e.put("actions/twitter--quote.html",'<span class="cursor--pointer">\n    <div class="actions tips--deep">\n        <a ng-href="//twitter.com/{{::item.quote.user.screen_name}}/status/{{::item.quote.id_str}}" target="_blank">\n            <svg class="actions__button">\n                <use xlink:href="/public/img/icon-sprite.svg#source-icon"></use>\n            </svg>\n        </a>\n    </div>\n</span>'),e.put("actions/twitter.html",'<span class="cursor--pointer">\n    <div ng-click="toggleAction(\'like\', item.provider, item.id_str)" class="actions tips--deep" ng-class="::{\'tips--active\': item.favorited}">\n        <svg class="actions__button" ng-class="::{\'button--active\': item.favorited}" data-like>\n            <use xlink:href="/public/img/icon-sprite.svg#like-icon"></use>\n        </svg>\n        <span class="actions__count" ng-attr-data-count="{{::item.favorite_count > 0 ? item.favorite_count : \'\'}}"></span>\n    </div>\n    <div ng-click="toggleAction(\'retweet\', item.provider, item.id_str)" class="actions tips--deep" ng-class="::{\'tips--frozen\': item.retweeted}">\n        <svg class="actions__button actions__button--retweet" ng-class="::{\'button--active\': item.retweeted}" data-retweet>\n            <use xlink:href="/public/img/icon-sprite.svg#retweet-icon"></use>\n        </svg>\n        <span class="actions__count" ng-attr-data-count="{{::item.retweet_count > 0 ? item.retweet_count : \'\'}}"></span>\n    </div>\n    <div class="actions tips--deep">\n        <a ng-href="//twitter.com/{{::item.user.screen_name}}/status/{{::item.id_str}}" target="_blank">\n            <svg class="actions__button">\n                <use xlink:href="/public/img/icon-sprite.svg#source-icon"></use>\n            </svg>\n        </a>\n    </div>\n</span>'),e.put("actions/weibo--quote.html",'<span class="cursor--pointer">\n    <div class="actions tips--deep">\n        <a ng-href="//weibo.com/{{::item.retweet.user.idstr}}/{{::item.retweet.mid}}" target="_blank">\n            <svg class="actions__button">\n                <use xlink:href="/public/img/icon-sprite.svg#source-icon"></use>\n            </svg>\n        </a>\n    </div>\n</span>'),e.put("actions/weibo.html",'<span class="cursor--pointer">\n    <div class="actions tips--deep tips--frozen" ng-if="::item.favorite_count > 0">\n        <svg class="actions__button" data-like>\n            <use xlink:href="/public/img/icon-sprite.svg#like-icon"></use>\n        </svg>\n        <span class="actions__count" ng-attr-data-count="{{::item.favorite_count}}"></span>\n    </div>\n    <div ng-click="toggleAction(\'retweet\', item.provider, item.id_str)" class="actions tips--deep">\n        <svg class="actions__button actions__button--retweet" data-retweet>\n            <use xlink:href="/public/img/icon-sprite.svg#retweet-icon"></use>\n        </svg>\n        <span class="actions__count" ng-attr-data-count="{{::item.retweet_count > 0 ? item.retweet_count : \'\'}}"></span>\n    </div>\n    <div class="actions tips--deep tips--frozen" ng-if="::item.comments_count > 0">\n        <svg class="actions__button">\n            <use xlink:href="/public/img/icon-sprite.svg#reply-icon"></use>\n        </svg>\n        <span class="actions__count" ng-attr-data-count="{{::item.comments_count}}"></span>\n    </div>\n    <div class="actions tips--deep">\n        <a ng-href="//weibo.com/{{::item.user.idstr}}/{{::item.mid}}" target="_blank">\n            <svg class="actions__button">\n                <use xlink:href="/public/img/icon-sprite.svg#source-icon"></use>\n            </svg>\n        </a>\n    </div>\n    <div ng-click="toggleAction(\'star\', item.provider, item.id_str)" class="actions tips--deep">\n        <svg class="actions__button" data-star>\n            <use xlink:href="/public/img/icon-sprite.svg#star-icon"></use>\n        </svg>\n    </div>\n</span>'),e.put("controlCenter/wrapper.html",'<div class="controlCenter__wrapper">\n    <div class="vertically_center">\n        <div ng-if="controlCenter === \'replicant--deckard\'" ng-include=" \'controlCenter/replicant/deckard.html\' " class="replicant replicant__deckard">\n        </div>\n        <div ng-if="controlCenter === \'replicant--rachael\'" ng-include=" \'controlCenter/replicant/rachael.html\' " class="replicant replicant__rachael">\n        </div>\n    </div>\n</div>'),e.put("media/instagram.html",'<div class="timeline__media">\n    <a ng-if="::!item.videos" ng-href="{{::item.images.standard_resolution}}" target="_blank">\n        <svg class="timeline__media__jumpButton tips--deep animate--faster">\n            <use xlink:href="/public/img/icon-sprite.svg#instagram-eyeball-icon"></use>\n        </svg>\n    </a>\n    <img ng-if="::!item.videos" ng-src="{{::item.images.standard_resolution}}" alt="instagram-post-image">\n\n    <ol-video ng-if="::item.videos" ol-src="::item.videos.standard_resolution" ol-poster="::item.images.standard_resolution"></ol-video>\n\n</div>\n'),e.put("media/twitter--quote.html",'<div class="timeline__media">\n    <div ng-repeat="media in ::item.quote.media" class="timeline__media--large">\n        <a ng-if="::media.type === \'photo\'" ng-href="{{::media.image_url}}:large" target="_blank">\n            <svg class="timeline__media__jumpButton tips--deep animate--faster">\n                <use xlink:href="/public/img/icon-sprite.svg#twitter-eyeball-icon"></use>\n            </svg>\n        </a>\n        <img ng-if="::media.type === \'photo\'" ng-src="{{::media.image_url}}" alt="tweet_photo">\n\n        <ol-video ng-if="::media.type !== \'photo\'" ol-src="::media.video_url" ol-poster="::media.image_url"></ol-video>\n    </div>\n</div>\n'),e.put("media/twitter.html",'<div class="timeline__media">\n    <div ng-repeat="media in ::item.media" class="timeline__media--large">\n        <a ng-if="::media.type === \'photo\'" ng-href="{{::media.image_url}}:large" target="_blank">\n            <svg class="timeline__media__jumpButton tips--deep animate--faster">\n                <use xlink:href="/public/img/icon-sprite.svg#twitter-eyeball-icon"></use>\n            </svg>\n        </a>\n        <img ng-if="::media.type === \'photo\'" ng-src="{{::media.image_url}}" alt="tweet_photo">\n\n        <ol-video ng-if="::media.type !== \'photo\'" ol-src="::media.video_url" ol-poster="::media.image_url"></ol-video>\n    </div>\n</div>\n'),e.put("media/weibo.html",'<div class="timeline__media overflow--x timeline__media--thumb">\n    <img class="animate--faster" ng-repeat="media in ::item.media" ng-src="{{:: media.image_url}}" ng-class="::{ \'timeline__media--gif\': media.type ===\'gif\' }" alt="weibo_photo" ol-image-thumb>\n</div>\n<div class="timeline__media timeline__media--inactive">\n    <img src="" alt="weibo_large_photo" select-image image-count="{{:: item.media.length}}">\n    <a href="" target="_blank">\n        <svg class="timeline__media__jumpButton tips--deep animate--faster">\n            <use xlink:href="/public/img/icon-sprite.svg#weibo-eyeball-icon"></use>\n        </svg>\n    </a>\n</div>'),e.put("menu/left.html",'<div class="menu menu--left animate--faster">\n\n    <div ng-if="isTimeline" class="vertically_center">\n        <a ui-sref="settings({ s: \'1\' })">\n            <svg class="menu__button animate--faster" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n                <g fill="none">\n                    <circle fill="#F1F1F1" cx="100" cy="100" r="100"/>\n                    <circle ng-attr-fill="{{ isAuth(\'twitter\') ? \'#2AA9E0\' : \'#FFF\' }}" cx="100" cy="42.5" r="15"/>\n                    <circle ng-attr-fill="{{ isAuth(\'instagram\') ? \'#3F5D87\' : \'#FFF\' }}" cx="100" cy="100" r="15"/>\n                    <circle ng-attr-fill="{{ isAuth(\'weibo\') ? \'#E6162D\' : \'#FFF\' }}" cx="100" cy="157.5" r="15"/>\n                </g>\n            </svg>\n        </a>\n    </div>\n\n</div>'),e.put("menu/right.html",'<div class="menu menu--right animate--faster">\n\n    <div ng-if="!isTimeline" class="vertically_center">\n        <a ui-sref="timeline({ provider: timelineProvider })">\n            <svg ng-show="providerList.length > 0" class="menu__button animate--faster">\n                <use xlink:href="/public/img/icon-sprite.svg#ok-icon"></use>\n            </svg>\n        </a>\n    </div>\n\n</div>'),e.put("twitter/quote.html",'<div ng-include=" \'twitter/component/profile.html\' "></div>\n\n<div ng-include=" \'twitter/component/content.html\' "></div>\n\n<!-- Origin Start -->\n<div class="timeline timeline--quote timeline--quote--twitter">\n\n    <div ng-include=" \'twitter/component/profile--quote.html\' "></div>\n\n    <div ng-include=" \'twitter/component/content--quote.html\' "></div>\n\n    <div ng-include=" \'actions/twitter--quote.html\' "></div>\n\n    <span class="timeline__time" relative-date="{{::item.quote.created_at}}"></span>\n\n</div>\n<!-- Origin End -->\n\n<div ng-include=" \'actions/twitter.html\' "></div>\n\n<span class="timeline__time tips" relative-date="{{::item.created_at}}"></span>'),e.put("twitter/retweet.html",'<div ng-include=" \'twitter/component/profile--retweet.html\' "></div>\n\n<div ng-include=" \'twitter/component/content.html\' "></div>\n\n<a class="timeline--retweet__profile__avatar" ng-href="//twitter.com/{{::item.user.screen_name}}" target="_blank">\n    <img class="timeline__profile__avatar" ng-src="{{::item.user.profile_image_url_https}}" alt="avatar">\n</a>\n\n<div ng-include=" \'actions/twitter.html\' "></div>\n\n<span class="timeline__time tips" relative-date="{{::item.created_at}}"></span>\n'),e.put("twitter/tweet.html",'<div ng-include=" \'twitter/component/profile.html\' "></div>\n\n<div ng-include=" \'twitter/component/content.html\' "></div>\n\n<div ng-include=" \'actions/twitter.html\' "></div>\n\n<span class="timeline__time tips" relative-date="{{::item.created_at}}"></span>'),e.put("weibo/quote.html",'<div ng-include=" \'weibo/component/profile.html\' "></div>\n\n<div ng-include=" \'weibo/component/content.html\' "></div>\n\n<!-- Origin Start -->\n<div class="timeline timeline--quote timeline--quote--weibo">\n\n    <div ng-include=" \'weibo/component/profile--retweet.html\' "></div>\n\n    <div ng-include=" \'weibo/component/content--retweet.html\' "></div>\n\n    <div ng-include=" \'actions/weibo--quote.html\' "></div>\n\n    <span class="timeline__time" relative-date="{{::item.retweet.created_at}}"></span>\n</div>\n<!-- Origin End -->\n\n<div ng-include=" \'actions/weibo.html\' "></div>\n\n<span class="timeline__time tips" relative-date="{{::item.created_at}}"></span>\n'),e.put("weibo/retweet.html",'<div ng-include=" \'weibo/component/profile--retweet.html\' "></div>\n\n<div ng-include=" \'weibo/component/content--retweet.html\' "></div>\n\n<a class="timeline--retweet__profile__avatar" ng-href="//weibo.com/n/{{::item.user.screen_name}}" target="_blank">\n    <img class="timeline__profile__avatar" ng-src="{{::item.user.profile_image_url_https}}" alt="avatar">\n</a>\n\n<div ng-include=" \'actions/weibo.html\' "></div>\n\n<span class="timeline__time tips" relative-date="{{::item.created_at}}"></span>\n'),e.put("weibo/tweet.html",'<div ng-include=" \'weibo/component/profile.html\' "></div>\n\n<div ng-include=" \'weibo/component/content.html\' "></div>\n\n<div ng-include=" \'actions/weibo.html\' "></div>\n\n<span class="timeline__time tips" relative-date="{{::item.created_at}}"></span>'),e.put("controlCenter/replicant/deckard.html","<span replicant-deckard></span>"),e.put("controlCenter/replicant/rachael.html",'<form>\n    <input type="text" ng-model="replicantCode" placeholder="CODE" required>\n    <input type="submit" value="rachael">\n</form>\n'),e.put("weibo/component/content--retweet.html",'<div class="timeline__content">\n    <p class="timeline__text" linkify="weibo" weibo-emotify>{{::item.retweet.text | html}}</p>\n\n    <div ng-if="::item.media" ng-include=" \'media/weibo.html\' "></div>\n</div>'),e.put("weibo/component/content.html",'<div class="timeline__content">\n    <p class="timeline__text" linkify="weibo" weibo-emotify>{{::item.text | html}}</p>\n\n    <div ng-if="::item.media && item.type === \'tweet\'" ng-include=" \'media/weibo.html\' "></div>   \n</div>'),e.put("weibo/component/profile--retweet.html",'<div class="timeline__profile">\n    <a ng-href="//weibo.com/n/{{::item.retweet.user.screen_name}}" target="_blank">\n        <img class="timeline__profile__avatar" ng-src="{{::item.retweet.user.profile_image_url_https}}" alt="avatar">\n    </a>\n    <div class="timeline__profile__fullname">\n        <a ng-href="//weibo.com/n/{{::item.retweet.user.screen_name}}" target="_blank">\n            <strong>{{::item.retweet.user.name}}</strong>\n        </a>\n    </div>\n</div>'),e.put("weibo/component/profile.html",'<div class="timeline__profile">\n    <a ng-href="//weibo.com/n/{{::item.user.screen_name}}" target="_blank">\n        <img class="timeline__profile__avatar" ng-src="{{::item.user.profile_image_url_https}}" alt="avatar">\n    </a>\n    <div class="timeline__profile__fullname">\n        <a ng-href="//weibo.com/n/{{::item.user.screen_name}}" target="_blank">\n            <strong>{{::item.user.name}}</strong>\n        </a>\n    </div>\n</div>'),e.put("twitter/component/content--quote.html",'<div class="timeline__content">\n    <p class="timeline__text" trim-media-link="{{::item.quote.mediaLink}}" linkify="twitter">{{::item.quote.text | html}}</p>\n    <div ng-if="::item.quote.media" ng-include=" \'media/twitter--quote.html\' "></div>\n</div>'),e.put("twitter/component/content.html",'<div class="timeline__content">\n    <p class="timeline__text" trim-media-link="{{::item.mediaLink}}" linkify="twitter">{{::item.text | html}}</p>\n\n    <div ng-if="::item.media" ng-include=" \'media/twitter.html\' "></div>\n</div>'),e.put("twitter/component/profile--quote.html",'<div class="timeline__profile">\n    <a ng-href="//twitter.com/{{::item.quote.user.screen_name}}" target="_blank">\n        <img class="timeline__profile__avatar" ng-src="{{::item.quote.user.profile_image_url_https}}" alt="avatar">\n    </a>\n    <div class="timeline__profile__fullname">\n        <a ng-href="//twitter.com/{{::item.quote.user.screen_name}}" target="_blank">\n            <strong>{{::item.quote.user.name}}</strong>\n        <a>\n    </div>\n</div>'),e.put("twitter/component/profile--retweet.html",'<div class="timeline__profile">\n    <a ng-href="//twitter.com/{{::item.retweet.user.screen_name}}" target="_blank">\n        <img class="timeline__profile__avatar" ng-src="{{::item.retweet.user.profile_image_url_https.replace(\'normal\', \'bigger\')}}" alt="avatar">\n    </a>\n    <div class="timeline__profile__fullname">\n        <a ng-href="//twitter.com/{{::item.retweet.user.screen_name}}" target="_blank">\n            <strong>{{::item.retweet.user.name}}</strong>\n        </a>\n    </div>\n</div>'),e.put("twitter/component/profile.html",'<div class="timeline__profile">\n    <a ng-href="//twitter.com/{{::item.user.screen_name}}" target="_blank">\n        <img class="timeline__profile__avatar" ng-src="{{::item.user.profile_image_url_https.replace(\'normal\', \'bigger\')}}" alt="avatar">\n    </a>\n    <div class="timeline__profile__fullname">\n        <a ng-href="//twitter.com/{{::item.user.screen_name}}" target="_blank">\n            <strong>{{::item.user.name}}</strong>\n        </a>\n    </div>\n</div>')}]);
//# sourceMappingURL=oneline.min.js.map